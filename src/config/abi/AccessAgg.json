{"abi":[{"type":"constructor","inputs":[{"name":"rightsPolicyManager","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"RIGHTS_POLICY_MANAGER","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IRightsPolicyManager"}],"stateMutability":"view"},{"type":"function","name":"UPGRADE_INTERFACE_VERSION","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"authority","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getActiveLicenses","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"holder","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"tuple[]","internalType":"struct AccessAgg.PolicyLicense[]","components":[{"name":"policy","type":"address","internalType":"address"},{"name":"license","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"getActiveLicenses","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"assetId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple[]","internalType":"struct AccessAgg.PolicyLicense[]","components":[{"name":"policy","type":"address","internalType":"address"},{"name":"license","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"getActivePoliciesLicenses","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"criteria","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"","type":"tuple[]","internalType":"struct AccessAgg.PolicyLicense[]","components":[{"name":"policy","type":"address","internalType":"address"},{"name":"license","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"initialize","inputs":[{"name":"accessManager","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"isAccessAllowed","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"holder","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"},{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isAccessAllowed","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"assetId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"},{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isConsumingScheduledOp","inputs":[],"outputs":[{"name":"","type":"bytes4","internalType":"bytes4"}],"stateMutability":"view"},{"type":"function","name":"proxiableUUID","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"setAuthority","inputs":[{"name":"newAuthority","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"upgradeToAndCall","inputs":[{"name":"newImplementation","type":"address","internalType":"address"},{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"payable"},{"type":"event","name":"AuthorityUpdated","inputs":[{"name":"authority","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Initialized","inputs":[{"name":"version","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false},{"type":"event","name":"Upgraded","inputs":[{"name":"implementation","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"AccessManagedInvalidAuthority","inputs":[{"name":"authority","type":"address","internalType":"address"}]},{"type":"error","name":"AccessManagedRequiredDelay","inputs":[{"name":"caller","type":"address","internalType":"address"},{"name":"delay","type":"uint32","internalType":"uint32"}]},{"type":"error","name":"AccessManagedUnauthorized","inputs":[{"name":"caller","type":"address","internalType":"address"}]},{"type":"error","name":"AddressEmptyCode","inputs":[{"name":"target","type":"address","internalType":"address"}]},{"type":"error","name":"ERC1967InvalidImplementation","inputs":[{"name":"implementation","type":"address","internalType":"address"}]},{"type":"error","name":"ERC1967NonPayable","inputs":[]},{"type":"error","name":"FailedCall","inputs":[]},{"type":"error","name":"InvalidInitialization","inputs":[]},{"type":"error","name":"InvalidUnauthorizedOperation","inputs":[{"name":"","type":"string","internalType":"string"}]},{"type":"error","name":"NotInitializing","inputs":[]},{"type":"error","name":"UUPSUnauthorizedCallContext","inputs":[]},{"type":"error","name":"UUPSUnsupportedProxiableUUID","inputs":[{"name":"slot","type":"bytes32","internalType":"bytes32"}]}],"bytecode":{"object":"0x60c03461014c57601f61158838819003918201601f19168301916001600160401b038311848410176101505780849260209460405283398101031261014c57516001600160a01b0381169081900361014c57306080527ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005460ff8160401c1661013d576002600160401b03196001600160401b038216016100d4575b5060a052604051611423908161016582396080518181816107780152610810015260a05181818160d7015281816104fb01526110100152f35b6001600160401b0319166001600160401b039081177ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d290602090a15f61009b565b63f92ee8a960e01b5f5260045ffd5b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe6080806040526004361015610012575f80fd5b5f3560e01c9081632b1e6e8f14610c33575080634bad81cb14610bf45780634f1ef286146107f057806352d1902d146107515780637a9e5e4b1461067a5780638fb36037146105e757806396ba154d14610594578063ac3e8fb014610478578063ad3cb1cc14610419578063bf7e214f146103c7578063c4d66de814610129578063d3f4c5af146100ff5763f1bdc452146100ab575f80fd5b346100fb575f6003193601126100fb57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b5f80fd5b346100fb5761012561011961011336610dea565b90610fbe565b60405191829182610ccb565b0390f35b346100fb5760206003193601126100fb57610142610c85565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005460ff8160401c16159167ffffffffffffffff8216801590816103bf575b60011490816103b5575b1590816103ac575b5061038457818360017fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000073ffffffffffffffffffffffffffffffffffffffff9516177ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005561032f575b506102056112fd565b61020d6112fd565b6102156112fd565b61021d6112fd565b61022681611252565b61022e6112fd565b167fffffffffffffffffffffffff00000000000000000000000000000000000000007fb8e950798a2a06a6f5727a94041b193569f4f67d69a0de3cf866d93822e7fa005416177fb8e950798a2a06a6f5727a94041b193569f4f67d69a0de3cf866d93822e7fa005561029c57005b7fffffffffffffffffffffffffffffffffffffffffffffff00ffffffffffffffff7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0054167ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00557fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d2602060405160018152a1005b7fffffffffffffffffffffffffffffffffffffffffffffff0000000000000000001668010000000000000001177ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0055836101fc565b7ff92ee8a9000000000000000000000000000000000000000000000000000000005f5260045ffd5b90501584610193565b303b15915061018b565b849150610181565b346100fb575f6003193601126100fb57602073ffffffffffffffffffffffffffffffffffffffff7ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a005416604051908152f35b346100fb575f6003193601126100fb5761012560405161043a604082610d6f565b600581527f352e302e300000000000000000000000000000000000000000000000000000006020820152604051918291602083526020830190610e74565b346100fb5760406003193601126100fb576104e26040610496610c85565b8151906024356020830152602082526104af8383610d6f565b825193849283927fbe5fb16600000000000000000000000000000000000000000000000000000000845260048401610f09565b038173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa908115610589575f905f92610557575b5060408051911515825273ffffffffffffffffffffffffffffffffffffffff929092166020820152f35b905061057b915060403d604011610582575b6105738183610d6f565b810190610ee5565b908261052d565b503d610569565b6040513d5f823e3d90fd5b346100fb5760406003193601126100fb576104e260406105b2610c85565b6105ba610ca8565b9073ffffffffffffffffffffffffffffffffffffffff835192166020830152602082526104af8383610d6f565b346100fb575f6003193601126100fb577ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a005460a01c60ff16156106725760207f8fb36037000000000000000000000000000000000000000000000000000000005b7fffffffff0000000000000000000000000000000000000000000000000000000060405191168152f35b60205f610648565b346100fb5760206003193601126100fb57610693610c85565b73ffffffffffffffffffffffffffffffffffffffff7ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a005416330361072557803b156106e3576106e190611252565b005b73ffffffffffffffffffffffffffffffffffffffff907fc2f31e5e000000000000000000000000000000000000000000000000000000005f521660045260245ffd5b7f068ca9d8000000000000000000000000000000000000000000000000000000005f523360045260245ffd5b346100fb575f6003193601126100fb5773ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001630036107c85760206040517f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc8152f35b7fe07c8dba000000000000000000000000000000000000000000000000000000005f5260045ffd5b6107f936610dea565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016803014908115610bb2575b506107c8576044604073ffffffffffffffffffffffffffffffffffffffff7fb8e950798a2a06a6f5727a94041b193569f4f67d69a0de3cf866d93822e7fa0054168151928380927fd1f856ee0000000000000000000000000000000000000000000000000000000082525f60048301523360248301525afa908115610589575f91610b67575b5015610ae35773ffffffffffffffffffffffffffffffffffffffff8216916040517f52d1902d000000000000000000000000000000000000000000000000000000008152602081600481875afa5f9181610aaf575b5061094757837f4c9c8ce3000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b807f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc859203610a845750813b15610a5957807fffffffffffffffffffffffff00000000000000000000000000000000000000007f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5416177f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc557fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b5f80a2815115610a28575f808360206106e195519101845af4610a22610f8f565b91611354565b505034610a3157005b7fb398979f000000000000000000000000000000000000000000000000000000005f5260045ffd5b7f4c9c8ce3000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b7faa1d49a4000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b9091506020813d602011610adb575b81610acb60209383610d6f565b810103126100fb57519085610916565b3d9150610abe565b60846040517f6317e35f00000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f4f6e6c792061646d696e2063616e20706572666f726d2074686973206163746960448201527f6f6e2e00000000000000000000000000000000000000000000000000000000006064820152fd5b90506040813d604011610baa575b81610b8260409383610d6f565b810103126100fb576020610b9582610eb7565b91015163ffffffff8116036100fb57836108c1565b3d9150610b75565b905073ffffffffffffffffffffffffffffffffffffffff7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc541614158361083b565b346100fb5760406003193601126100fb57610125610119610c13610c85565b60405190602435602083015260208252610c2e604083610d6f565b610fbe565b346100fb5760406003193601126100fb5761011961012591610c53610c85565b73ffffffffffffffffffffffffffffffffffffffff610c70610ca8565b16602083015260208252610c2e604083610d6f565b6004359073ffffffffffffffffffffffffffffffffffffffff821682036100fb57565b6024359073ffffffffffffffffffffffffffffffffffffffff821682036100fb57565b60206040818301928281528451809452019201905f5b818110610cee5750505090565b8251805173ffffffffffffffffffffffffffffffffffffffff1685526020908101518186015260409094019390920191600101610ce1565b6040810190811067ffffffffffffffff821117610d4257604052565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff821117610d4257604052565b67ffffffffffffffff8111610d4257601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b9060406003198301126100fb5760043573ffffffffffffffffffffffffffffffffffffffff811681036100fb579160243567ffffffffffffffff81116100fb57816023820112156100fb57806004013590610e4482610db0565b92610e526040519485610d6f565b828452602483830101116100fb57815f92602460209301838601378301015290565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f602080948051918291828752018686015e5f8582860101520116010190565b519081151582036100fb57565b519073ffffffffffffffffffffffffffffffffffffffff821682036100fb57565b91908260409103126100fb57610f066020610eff84610eb7565b9301610ec4565b90565b60409073ffffffffffffffffffffffffffffffffffffffff610f0694931681528160208201520190610e74565b67ffffffffffffffff8111610d425760051b60200190565b8051821015610f625760209160051b010190565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b3d15610fb9573d90610fa082610db0565b91610fae6040519384610d6f565b82523d5f602084013e565b606090565b90604051907f8720327e0000000000000000000000000000000000000000000000000000000082525f8280610ff7848760048401610f09565b038173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa918215610589575f926111b7575b508151927fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe061108761107186610f36565b9561107f6040519788610d6f565b808752610f36565b015f5b8181106111945750508251925f5b8481106110a757505050505090565b73ffffffffffffffffffffffffffffffffffffffff6110c68284610f4e565b5116905f8060405160208101907e9e11ff000000000000000000000000000000000000000000000000000000008252611133816111078b8b60248401610f09565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08101835282610d6f565b5190855afa50611141610f8f565b916020838051810103126100fb5760206001930151801561118d576040519161116983610d26565b8252602082015261117a8289610f4e565b526111858188610f4e565b505b01611098565b5050611187565b6020906040516111a381610d26565b5f81525f838201528282890101520161108a565b9091503d805f833e6111c98183610d6f565b8101906020818303126100fb5780519067ffffffffffffffff82116100fb57019080601f830112156100fb57815161120081610f36565b9261120e6040519485610d6f565b81845260208085019260051b8201019283116100fb57602001905b82821061123a57505050905f611040565b6020809161124784610ec4565b815201910190611229565b602073ffffffffffffffffffffffffffffffffffffffff7f2f658b440c35314f52658ea8a740e05b284cdc84dc9ae01e891f21b8933e7cad9216807fffffffffffffffffffffffff00000000000000000000000000000000000000007ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a005416177ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a0055604051908152a1565b60ff7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005460401c161561132c57565b7fd7e6bcf8000000000000000000000000000000000000000000000000000000005f5260045ffd5b90611391575080511561136957805190602001fd5b7fd6bda275000000000000000000000000000000000000000000000000000000005f5260045ffd5b815115806113e4575b6113a2575090565b73ffffffffffffffffffffffffffffffffffffffff907f9996b315000000000000000000000000000000000000000000000000000000005f521660045260245ffd5b50803b1561139a56fea2646970667358221220124dbdd55f540bc886e65d82c794f433641dfe9a407ab7d4848bb808874156a464736f6c634300081a0033","sourceMap":"801:5617:0:-:0;;;;;;;;;;;;;-1:-1:-1;;801:5617:0;;;;-1:-1:-1;;;;;801:5617:0;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;801:5617:0;;;;;;;;1171:4:43;1163:13;;8837:64:42;801:5617:0;;;;;;7896:76:42;;-1:-1:-1;;;;;;;;;;;801:5617:0;;7985:34:42;7981:146;;-1:-1:-1;1811:65:0;;;801:5617;;;;;;;;1163:13:43;801:5617:0;;;;;;;;;;1811:65;801:5617;;;;;;;;;;;;;;;;7981:146:42;-1:-1:-1;;;;;;801:5617:0;-1:-1:-1;;;;;801:5617:0;;;8837:64:42;801:5617:0;;;;;;8087:29:42;;801:5617:0;;8087:29:42;7981:146;;;7896:76;7938:23;;;-1:-1:-1;7938:23:42;;-1:-1:-1;7938:23:42;801:5617:0;-1:-1:-1;801:5617:0;;;;;;-1:-1:-1;801:5617:0;;;;;-1:-1:-1;801:5617:0","linkReferences":{}},"deployedBytecode":{"object":"0x6080806040526004361015610012575f80fd5b5f3560e01c9081632b1e6e8f14610c33575080634bad81cb14610bf45780634f1ef286146107f057806352d1902d146107515780637a9e5e4b1461067a5780638fb36037146105e757806396ba154d14610594578063ac3e8fb014610478578063ad3cb1cc14610419578063bf7e214f146103c7578063c4d66de814610129578063d3f4c5af146100ff5763f1bdc452146100ab575f80fd5b346100fb575f6003193601126100fb57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b5f80fd5b346100fb5761012561011961011336610dea565b90610fbe565b60405191829182610ccb565b0390f35b346100fb5760206003193601126100fb57610142610c85565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005460ff8160401c16159167ffffffffffffffff8216801590816103bf575b60011490816103b5575b1590816103ac575b5061038457818360017fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000073ffffffffffffffffffffffffffffffffffffffff9516177ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005561032f575b506102056112fd565b61020d6112fd565b6102156112fd565b61021d6112fd565b61022681611252565b61022e6112fd565b167fffffffffffffffffffffffff00000000000000000000000000000000000000007fb8e950798a2a06a6f5727a94041b193569f4f67d69a0de3cf866d93822e7fa005416177fb8e950798a2a06a6f5727a94041b193569f4f67d69a0de3cf866d93822e7fa005561029c57005b7fffffffffffffffffffffffffffffffffffffffffffffff00ffffffffffffffff7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0054167ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00557fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d2602060405160018152a1005b7fffffffffffffffffffffffffffffffffffffffffffffff0000000000000000001668010000000000000001177ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0055836101fc565b7ff92ee8a9000000000000000000000000000000000000000000000000000000005f5260045ffd5b90501584610193565b303b15915061018b565b849150610181565b346100fb575f6003193601126100fb57602073ffffffffffffffffffffffffffffffffffffffff7ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a005416604051908152f35b346100fb575f6003193601126100fb5761012560405161043a604082610d6f565b600581527f352e302e300000000000000000000000000000000000000000000000000000006020820152604051918291602083526020830190610e74565b346100fb5760406003193601126100fb576104e26040610496610c85565b8151906024356020830152602082526104af8383610d6f565b825193849283927fbe5fb16600000000000000000000000000000000000000000000000000000000845260048401610f09565b038173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa908115610589575f905f92610557575b5060408051911515825273ffffffffffffffffffffffffffffffffffffffff929092166020820152f35b905061057b915060403d604011610582575b6105738183610d6f565b810190610ee5565b908261052d565b503d610569565b6040513d5f823e3d90fd5b346100fb5760406003193601126100fb576104e260406105b2610c85565b6105ba610ca8565b9073ffffffffffffffffffffffffffffffffffffffff835192166020830152602082526104af8383610d6f565b346100fb575f6003193601126100fb577ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a005460a01c60ff16156106725760207f8fb36037000000000000000000000000000000000000000000000000000000005b7fffffffff0000000000000000000000000000000000000000000000000000000060405191168152f35b60205f610648565b346100fb5760206003193601126100fb57610693610c85565b73ffffffffffffffffffffffffffffffffffffffff7ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a005416330361072557803b156106e3576106e190611252565b005b73ffffffffffffffffffffffffffffffffffffffff907fc2f31e5e000000000000000000000000000000000000000000000000000000005f521660045260245ffd5b7f068ca9d8000000000000000000000000000000000000000000000000000000005f523360045260245ffd5b346100fb575f6003193601126100fb5773ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001630036107c85760206040517f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc8152f35b7fe07c8dba000000000000000000000000000000000000000000000000000000005f5260045ffd5b6107f936610dea565b73ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016803014908115610bb2575b506107c8576044604073ffffffffffffffffffffffffffffffffffffffff7fb8e950798a2a06a6f5727a94041b193569f4f67d69a0de3cf866d93822e7fa0054168151928380927fd1f856ee0000000000000000000000000000000000000000000000000000000082525f60048301523360248301525afa908115610589575f91610b67575b5015610ae35773ffffffffffffffffffffffffffffffffffffffff8216916040517f52d1902d000000000000000000000000000000000000000000000000000000008152602081600481875afa5f9181610aaf575b5061094757837f4c9c8ce3000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b807f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc859203610a845750813b15610a5957807fffffffffffffffffffffffff00000000000000000000000000000000000000007f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5416177f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc557fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b5f80a2815115610a28575f808360206106e195519101845af4610a22610f8f565b91611354565b505034610a3157005b7fb398979f000000000000000000000000000000000000000000000000000000005f5260045ffd5b7f4c9c8ce3000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b7faa1d49a4000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b9091506020813d602011610adb575b81610acb60209383610d6f565b810103126100fb57519085610916565b3d9150610abe565b60846040517f6317e35f00000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f4f6e6c792061646d696e2063616e20706572666f726d2074686973206163746960448201527f6f6e2e00000000000000000000000000000000000000000000000000000000006064820152fd5b90506040813d604011610baa575b81610b8260409383610d6f565b810103126100fb576020610b9582610eb7565b91015163ffffffff8116036100fb57836108c1565b3d9150610b75565b905073ffffffffffffffffffffffffffffffffffffffff7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc541614158361083b565b346100fb5760406003193601126100fb57610125610119610c13610c85565b60405190602435602083015260208252610c2e604083610d6f565b610fbe565b346100fb5760406003193601126100fb5761011961012591610c53610c85565b73ffffffffffffffffffffffffffffffffffffffff610c70610ca8565b16602083015260208252610c2e604083610d6f565b6004359073ffffffffffffffffffffffffffffffffffffffff821682036100fb57565b6024359073ffffffffffffffffffffffffffffffffffffffff821682036100fb57565b60206040818301928281528451809452019201905f5b818110610cee5750505090565b8251805173ffffffffffffffffffffffffffffffffffffffff1685526020908101518186015260409094019390920191600101610ce1565b6040810190811067ffffffffffffffff821117610d4257604052565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff821117610d4257604052565b67ffffffffffffffff8111610d4257601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b9060406003198301126100fb5760043573ffffffffffffffffffffffffffffffffffffffff811681036100fb579160243567ffffffffffffffff81116100fb57816023820112156100fb57806004013590610e4482610db0565b92610e526040519485610d6f565b828452602483830101116100fb57815f92602460209301838601378301015290565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f602080948051918291828752018686015e5f8582860101520116010190565b519081151582036100fb57565b519073ffffffffffffffffffffffffffffffffffffffff821682036100fb57565b91908260409103126100fb57610f066020610eff84610eb7565b9301610ec4565b90565b60409073ffffffffffffffffffffffffffffffffffffffff610f0694931681528160208201520190610e74565b67ffffffffffffffff8111610d425760051b60200190565b8051821015610f625760209160051b010190565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b3d15610fb9573d90610fa082610db0565b91610fae6040519384610d6f565b82523d5f602084013e565b606090565b90604051907f8720327e0000000000000000000000000000000000000000000000000000000082525f8280610ff7848760048401610f09565b038173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa918215610589575f926111b7575b508151927fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe061108761107186610f36565b9561107f6040519788610d6f565b808752610f36565b015f5b8181106111945750508251925f5b8481106110a757505050505090565b73ffffffffffffffffffffffffffffffffffffffff6110c68284610f4e565b5116905f8060405160208101907e9e11ff000000000000000000000000000000000000000000000000000000008252611133816111078b8b60248401610f09565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08101835282610d6f565b5190855afa50611141610f8f565b916020838051810103126100fb5760206001930151801561118d576040519161116983610d26565b8252602082015261117a8289610f4e565b526111858188610f4e565b505b01611098565b5050611187565b6020906040516111a381610d26565b5f81525f838201528282890101520161108a565b9091503d805f833e6111c98183610d6f565b8101906020818303126100fb5780519067ffffffffffffffff82116100fb57019080601f830112156100fb57815161120081610f36565b9261120e6040519485610d6f565b81845260208085019260051b8201019283116100fb57602001905b82821061123a57505050905f611040565b6020809161124784610ec4565b815201910190611229565b602073ffffffffffffffffffffffffffffffffffffffff7f2f658b440c35314f52658ea8a740e05b284cdc84dc9ae01e891f21b8933e7cad9216807fffffffffffffffffffffffff00000000000000000000000000000000000000007ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a005416177ff3177357ab46d8af007ab3fdb9af81da189e1068fefdc0073dca88a2cab40a0055604051908152a1565b60ff7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005460401c161561132c57565b7fd7e6bcf8000000000000000000000000000000000000000000000000000000005f5260045ffd5b90611391575080511561136957805190602001fd5b7fd6bda275000000000000000000000000000000000000000000000000000000005f5260045ffd5b815115806113e4575b6113a2575090565b73ffffffffffffffffffffffffffffffffffffffff907f9996b315000000000000000000000000000000000000000000000000000000005f521660045260245ffd5b50803b1561139a56fea2646970667358221220124dbdd55f540bc886e65d82c794f433641dfe9a407ab7d4848bb808874156a464736f6c634300081a0033","sourceMap":"801:5617:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;801:5617:0;;;;;;;;;1383:59;801:5617;;;;;;;;;;;;;;;;;:::i;:::-;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;-1:-1:-1;;801:5617:0;;;;;;;:::i;:::-;8837:64:42;801:5617:0;;;;;;4301:16:42;801:5617:0;;;;4726:16:42;;:34;;;;801:5617:0;4805:1:42;4790:16;:50;;;;801:5617:0;4855:13:42;:30;;;;801:5617:0;4851:91:42;;;801:5617:0;;4805:1:42;801:5617:0;;;;;8837:64:42;801:5617:0;4979:67:42;;801:5617:0;6893:76:42;;;:::i;:::-;;;:::i;:::-;;;:::i;:::-;;;:::i;:::-;2222:16:41;;;:::i;:::-;6893:76:42;;:::i;:::-;801:5617:0;;3298:62:95;801:5617:0;;;3298:62:95;801:5617:0;5066:101:42;;801:5617:0;5066:101:42;801:5617:0;8837:64:42;801:5617:0;;8837:64:42;801:5617:0;5142:14:42;801:5617:0;;;4805:1:42;801:5617:0;;5142:14:42;801:5617:0;4979:67:42;801:5617:0;;;;8837:64:42;801:5617:0;4979:67:42;;;4851:91;4908:23;801:5617:0;4908:23:42;801:5617:0;;4908:23:42;4855:30;4872:13;;;4855:30;;;4790:50;4818:4;4810:25;:30;;-1:-1:-1;4790:50:42;;4726:34;;;-1:-1:-1;4726:34:42;;801:5617:0;;;;;-1:-1:-1;;801:5617:0;;;;;;;1782:71:41;801:5617:0;;;;;;;;;;;;;-1:-1:-1;;801:5617:0;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;-1:-1:-1;;801:5617:0;;;;;4782:56;801:5617;;;:::i;:::-;;;;;;;4708:19;;801:5617;;4708:19;;;;;;:::i;:::-;801:5617;;4782:56;;;;;801:5617;4782:56;;801:5617;4782:56;;;:::i;:::-;;:21;801:5617;4782:21;801:5617;4782:56;;;;;;;801:5617;;;4782:56;;;801:5617;-1:-1:-1;801:5617:0;;;;;;;;;;;;;;;;;;4782:56;;;;;;801:5617;4782:56;801:5617;4782:56;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;801:5617;;;;;;;;;;;;;;-1:-1:-1;;801:5617:0;;;;;4130:56;801:5617;;;:::i;:::-;;;:::i;:::-;;;;;;;;4051:18;;801:5617;;4051:18;;;;;;:::i;801:5617::-;;;;;-1:-1:-1;;801:5617:0;;;;;1782:71:41;801:5617:0;;;;;4698:71:41;;;801:5617:0;;4698:71:41;801:5617:0;;;;;;;;4698:71:41;801:5617:0;;4698:71:41;;801:5617:0;;;;;-1:-1:-1;;801:5617:0;;;;;;;:::i;:::-;;1782:71:41;801:5617:0;;966:10:44;4258:21:41;4254:92;;4359:24;;:29;4355:110;;4488:12;;;:::i;:::-;801:5617:0;4355:110:41;801:5617:0;4411:43:41;;801:5617:0;4411:43:41;801:5617:0;;;;;4411:43:41;4254:92;4302:33;801:5617:0;4302:33:41;966:10:44;801:5617:0;;;;4302:33:41;801:5617:0;;;;;-1:-1:-1;;801:5617:0;;;;;;5115:6:43;801:5617:0;5106:4:43;5098:23;5094:145;;801:5617:0;;;811:66:56;801:5617:0;;;5094:145:43;5199:29;801:5617:0;5199:29:43;801:5617:0;;5199:29:43;801:5617:0;;;;:::i;:::-;;4692:6:43;801:5617:0;4683:4:43;;4675:23;:120;;;;;801:5617:0;4658:251:43;;;3061:30:95;801:5617:0;;3298:62:95;801:5617:0;;;;3061:30:95;;;;801:5617:0;3061:30:95;;801:5617:0;;3061:30:95;;801:5617:0;1896:10:95;801:5617:0;;;;3061:30:95;;;;;;;801:5617:0;3061:30:95;;;801:5617:0;1872:35:95;;1868:140;;801:5617:0;;;;;;;6156:52:43;;801:5617:0;6156:52:43;801:5617:0;6156:52:43;;;;801:5617:0;;6156:52:43;;;801:5617:0;-1:-1:-1;6152:437:43;;6518:60;;801:5617:0;6518:60:43;801:5617:0;;;;6518:60:43;6152:437;6250:40;811:66:56;6250:40:43;;;6246:120;;1748:29:56;;;:34;1744:119;;801:5617:0;;811:66:56;801:5617:0;;;811:66:56;801:5617:0;2407:36:56;801:5617:0;2407:36:56;;801:5617:0;;2458:15:56;:11;;801:5617:0;4049:25:63;;801:5617:0;4091:55:63;4049:25;;;;;;;;;:::i;:::-;4091:55;;:::i;2454:148:56:-;6163:9;;;6159:70;;801:5617:0;6159:70:56;6199:19;801:5617:0;6199:19:56;801:5617:0;;6199:19:56;1744:119;1805:47;801:5617:0;1805:47:56;801:5617:0;;;;1805:47:56;6246:120:43;6317:34;801:5617:0;6317:34:43;801:5617:0;;;;6317:34:43;6156:52;;;;801:5617:0;6156:52:43;;801:5617:0;6156:52:43;;;;;;801:5617:0;6156:52:43;;;:::i;:::-;;;801:5617:0;;;;;6156:52:43;;;;;;;-1:-1:-1;6156:52:43;;1868:140:95;1930:67;801:5617:0;;1930:67:95;;;801:5617:0;;1930:67:95;;520:1:93;;801:5617:0;520:1:93;;801:5617:0;520:1:93;3061:30:95;801:5617:0;;520:1:93;;;;;;1930:67:95;3061:30;;;801:5617:0;3061:30:95;;801:5617:0;3061:30:95;;;;;;801:5617:0;3061:30:95;;;:::i;:::-;;;801:5617:0;;;;;;;;:::i;:::-;;;;;;;;;;3061:30:95;;;;;;-1:-1:-1;3061:30:95;;4675:120:43;801:5617:0;;;811:66:56;801:5617:0;;4753:42:43;;4675:120;;;801:5617:0;;;;;-1:-1:-1;;801:5617:0;;;;;;3455:44;801:5617;;:::i;:::-;;;;;;;3381:19;;801:5617;;3381:19;;;801:5617;3381:19;;:::i;:::-;3455:44;:::i;801:5617::-;;;;;-1:-1:-1;;801:5617:0;;;;;2853:44;801:5617;;;;:::i;:::-;;;;:::i;:::-;;;2774:18;;801:5617;;2774:18;;;801:5617;2774:18;;:::i;801:5617::-;;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;-1:-1:-1;801:5617:0;;;;;-1:-1:-1;801:5617:0;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;:::o;:::-;;;-1:-1:-1;;801:5617:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;-1:-1:-1;801:5617:0;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;-1:-1:-1;801:5617:0;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;;:::o;:::-;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;-1:-1:-1;801:5617:0;;;;:::o;:::-;;;:::o;5075:953::-;;801:5617;;5255:58;801:5617;5255:58;;;;;;;;;;;;:::i;:::-;;:21;801:5617;5255:21;801:5617;5255:58;;;;;;;;;;;5075:953;801:5617;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;:::i;:::-;;5255:58;801:5617;;;;;;;;;;5456:13;5255:58;5471:15;;;;;;6006;;;;;5075:953;:::o;5488:20::-;801:5617;5548:11;;;;:::i;:::-;801:5617;;;5255:58;801:5617;;;;5637:55;;;;;;;;;;;;;;;:::i;:::-;;801:5617;5637:55;;;;;;:::i;:::-;5732:34;;;;;;;;:::i;:::-;801:5617;;;;;5804:29;;801:5617;;;;;884:1:90;5804:29:0;;801:5617;5851:14;;5847:28;;801:5617;;;;;;:::i;:::-;;;;5925:60;;801:5617;5911:74;;;;:::i;:::-;;;;;;:::i;:::-;;5456:13;801:5617;5456:13;;5847:28;5867:8;;;;801:5617;;;;;;;;:::i;:::-;5255:58;801:5617;;5255:58;801:5617;;;;;;;;;;;;;5255:58;;;;;;;;;;;;;:::i;:::-;;;801:5617;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;5255:58;;;;;;;801:5617;;;;;;;:::i;:::-;;;;;;;;;4964:220:41;801:5617:0;;5147:30:41;4964:220;801:5617:0;;;1782:71:41;801:5617:0;;;1782:71:41;801:5617:0;;;;;;5147:30:41;4964:220::o;7084:141:42:-;801:5617:0;8837:64:42;801:5617:0;;;;7150:18:42;7146:73;;7084:141::o;7146:73::-;7191:17;-1:-1:-1;7191:17:42;;-1:-1:-1;7191:17:42;4421:582:63;;4593:8;;-1:-1:-1;801:5617:0;;5674:21:63;:17;;5799:158;;;;;;5670:354;5994:19;5694:1;5994:19;;5694:1;5994:19;4589:408;801:5617:0;;4841:22:63;:49;;;4589:408;4837:119;;4969:17;;:::o;4837:119::-;801:5617:0;4917:24:63;;4862:1;4917:24;801:5617:0;4917:24:63;801:5617:0;;4862:1:63;4917:24;4841:49;4867:18;;;:23;4841:49;","linkReferences":{},"immutableReferences":{"33":[{"start":215,"length":32},{"start":1275,"length":32},{"start":4112,"length":32}],"40433":[{"start":1912,"length":32},{"start":2064,"length":32}]}},"methodIdentifiers":{"RIGHTS_POLICY_MANAGER()":"f1bdc452","UPGRADE_INTERFACE_VERSION()":"ad3cb1cc","authority()":"bf7e214f","getActiveLicenses(address,address)":"2b1e6e8f","getActiveLicenses(address,uint256)":"4bad81cb","getActivePoliciesLicenses(address,bytes)":"d3f4c5af","initialize(address)":"c4d66de8","isAccessAllowed(address,address)":"96ba154d","isAccessAllowed(address,uint256)":"ac3e8fb0","isConsumingScheduledOp()":"8fb36037","proxiableUUID()":"52d1902d","setAuthority(address)":"7a9e5e4b","upgradeToAndCall(address,bytes)":"4f1ef286"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"rightsPolicyManager\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"authority\",\"type\":\"address\"}],\"name\":\"AccessManagedInvalidAuthority\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"delay\",\"type\":\"uint32\"}],\"name\":\"AccessManagedRequiredDelay\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"}],\"name\":\"AccessManagedUnauthorized\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"}],\"name\":\"AddressEmptyCode\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"implementation\",\"type\":\"address\"}],\"name\":\"ERC1967InvalidImplementation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ERC1967NonPayable\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FailedCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidInitialization\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"InvalidUnauthorizedOperation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotInitializing\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UUPSUnauthorizedCallContext\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"slot\",\"type\":\"bytes32\"}],\"name\":\"UUPSUnsupportedProxiableUUID\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"authority\",\"type\":\"address\"}],\"name\":\"AuthorityUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"version\",\"type\":\"uint64\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"implementation\",\"type\":\"address\"}],\"name\":\"Upgraded\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"RIGHTS_POLICY_MANAGER\",\"outputs\":[{\"internalType\":\"contract IRightsPolicyManager\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"UPGRADE_INTERFACE_VERSION\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"authority\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"}],\"name\":\"getActiveLicenses\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"policy\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"license\",\"type\":\"uint256\"}],\"internalType\":\"struct AccessAgg.PolicyLicense[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"getActiveLicenses\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"policy\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"license\",\"type\":\"uint256\"}],\"internalType\":\"struct AccessAgg.PolicyLicense[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"criteria\",\"type\":\"bytes\"}],\"name\":\"getActivePoliciesLicenses\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"policy\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"license\",\"type\":\"uint256\"}],\"internalType\":\"struct AccessAgg.PolicyLicense[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"accessManager\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"}],\"name\":\"isAccessAllowed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"isAccessAllowed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isConsumingScheduledOp\",\"outputs\":[{\"internalType\":\"bytes4\",\"name\":\"\",\"type\":\"bytes4\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"proxiableUUID\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newAuthority\",\"type\":\"address\"}],\"name\":\"setAuthority\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newImplementation\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"upgradeToAndCall\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Uses UUPS upgradeable proxy pattern and centralized access control.\",\"errors\":{\"AddressEmptyCode(address)\":[{\"details\":\"There's no code at `target` (it is not a contract).\"}],\"ERC1967InvalidImplementation(address)\":[{\"details\":\"The `implementation` of the proxy is invalid.\"}],\"ERC1967NonPayable()\":[{\"details\":\"An upgrade function sees `msg.value > 0` that may be lost.\"}],\"FailedCall()\":[{\"details\":\"A call to an address target failed. The target may have reverted.\"}],\"InvalidInitialization()\":[{\"details\":\"The contract is already initialized.\"}],\"InvalidUnauthorizedOperation(string)\":[{\"details\":\"Error thrown when an unauthorized operation is attempted.\"}],\"NotInitializing()\":[{\"details\":\"The contract is not initializing.\"}],\"UUPSUnauthorizedCallContext()\":[{\"details\":\"The call is from an unauthorized context.\"}],\"UUPSUnsupportedProxiableUUID(bytes32)\":[{\"details\":\"The storage `slot` is unsupported as a UUID.\"}]},\"events\":{\"AuthorityUpdated(address)\":{\"details\":\"Authority that manages this contract was updated.\"},\"Initialized(uint64)\":{\"details\":\"Triggered when the contract has been initialized or reinitialized.\"},\"Upgraded(address)\":{\"details\":\"Emitted when the implementation is upgraded.\"}},\"kind\":\"dev\",\"methods\":{\"authority()\":{\"details\":\"Returns the current authority.\"},\"constructor\":{\"custom:oz-upgrades-unsafe-allow\":\"constructor\",\"details\":\"Disables initializers to ensure proper proxy usage.\",\"params\":{\"rightsPolicyManager\":\"Address of the Rights Policy Manager contract.\"}},\"getActiveLicenses(address,address)\":{\"details\":\"Uses the asset holder address as the criteria for license retrieval.\",\"params\":{\"account\":\"The address of the account to check.\",\"holder\":\"The address of the rights holder used as the criteria.\"},\"returns\":{\"_0\":\"An array of PolicyLicense structures.\"}},\"getActiveLicenses(address,uint256)\":{\"details\":\"Uses the asset ID as the criteria for license retrieval.\",\"params\":{\"account\":\"The address of the account to check.\",\"assetId\":\"The ID of the asset used as the criteria.\"},\"returns\":{\"_0\":\"An array of PolicyLicense structures.\"}},\"getActivePoliciesLicenses(address,bytes)\":{\"params\":{\"account\":\"The address of the account to check.\",\"criteria\":\"Encoded criteria used to filter active policies.\"}},\"initialize(address)\":{\"details\":\"Sets up the contract for usage and ensures AccessManager is properly set.\",\"params\":{\"accessManager\":\"Address of the Access Manager contract used for permission handling.\"}},\"isAccessAllowed(address,address)\":{\"details\":\"Uses the holder address as the search criteria.\",\"params\":{\"account\":\"The address of the account to verify.\",\"holder\":\"The address of the rights holder used as criteria.\"},\"returns\":{\"_0\":\"active True if the account has access; otherwise, false.\",\"_1\":\"address The address of the active policy.\"}},\"isAccessAllowed(address,uint256)\":{\"details\":\"Uses the asset ID as the search criteria.\",\"params\":{\"account\":\"The address of the account to verify.\",\"assetId\":\"The ID of the asset used as criteria.\"},\"returns\":{\"_0\":\"active True if the account has access; otherwise, false.\",\"_1\":\"address The address of the active policy.\"}},\"isConsumingScheduledOp()\":{\"details\":\"Returns true only in the context of a delayed restricted call, at the moment that the scheduled operation is being consumed. Prevents denial of service for delayed restricted calls in the case that the contract performs attacker controlled calls.\"},\"proxiableUUID()\":{\"details\":\"Implementation of the ERC-1822 {proxiableUUID} function. This returns the storage slot used by the implementation. It is used to validate the implementation's compatibility when performing an upgrade. IMPORTANT: A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this function revert if invoked through a proxy. This is guaranteed by the `notDelegated` modifier.\"},\"setAuthority(address)\":{\"details\":\"Transfers control to a new authority. The caller must be the current authority.\"},\"upgradeToAndCall(address,bytes)\":{\"custom:oz-upgrades-unsafe-allow-reachable\":\"delegatecall\",\"details\":\"Upgrade the implementation of the proxy to `newImplementation`, and subsequently execute the function call encoded in `data`. Calls {_authorizeUpgrade}. Emits an {Upgraded} event.\"}},\"stateVariables\":{\"RIGHTS_POLICY_MANAGER\":{\"custom:oz-upgrades-unsafe-allow\":\"state-variable-immutable\",\"details\":\"This variable is immutable and set at deployment time.\"}},\"title\":\"Access Aggregator\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"RIGHTS_POLICY_MANAGER()\":{\"notice\":\"Address of the Rights Policy Manager contract.\"},\"constructor\":{\"notice\":\"Constructor to initialize the immutable Rights Policy Manager.\"},\"getActiveLicenses(address,address)\":{\"notice\":\"Retrieves all active licenses for a given account and asset holder.\"},\"getActiveLicenses(address,uint256)\":{\"notice\":\"Retrieves all active licenses for a given account and asset ID.\"},\"getActivePoliciesLicenses(address,bytes)\":{\"notice\":\"Retrieves active policies and their corresponding licenses for an account.\"},\"initialize(address)\":{\"notice\":\"Initializes the proxy state.\"},\"isAccessAllowed(address,address)\":{\"notice\":\"Checks if an account has access rights based on a holder's criteria.\"},\"isAccessAllowed(address,uint256)\":{\"notice\":\"Checks if an account has access to a specific asset ID.\"}},\"notice\":\"This contract aggregates access control logic for licenses and policies.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/aggregation/AccessAgg.sol\":\"AccessAgg\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":20000},\"remappings\":[\":@account-abstraction/=node_modules/@account-abstraction/\",\":@ethereum-attestation-service/=node_modules/@ethereum-attestation-service/\",\":@ethsign/=node_modules/@ethsign/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":@synaps3/=node_modules/@synaps3/types/contracts/\",\":@uniswap/=node_modules/@uniswap/\",\":base64-sol/=node_modules/base64-sol/\",\":forge-std/=lib/forge-std/src/\",\":hardhat/=node_modules/hardhat/\",\":solady/=lib/solady/src/\"],\"viaIR\":true},\"sources\":{\"contracts/aggregation/AccessAgg.sol\":{\"keccak256\":\"0xf24aac1fe180b4931fc80fa612f1bb45e31044b3e49ec14c568931056dc5ec27\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7deead2c10965c53b2d50fadbdf1da8d9ea946b41445076b89bd12af00e40679\",\"dweb:/ipfs/QmNS7a2hKWRWk58V6stTZuRYWGtapUasdzFkUGcE5SxZok\"]},\"node_modules/@openzeppelin/contracts-upgradeable/access/manager/AccessManagedUpgradeable.sol\":{\"keccak256\":\"0x89017bb026363fdc9fdc4b7c995aaf83e4c5af5c022eafa2e96352f843297373\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://dff6e61ba53c87ad06cbdddb9ff36dec215a41beff91746a80f4a9a32d37f447\",\"dweb:/ipfs/QmUm6hznJTihCTaRx7TXHXKbgyuDEEgehyRzi7TAs8GLvB\"]},\"node_modules/@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol\":{\"keccak256\":\"0x631188737069917d2f909d29ce62c4d48611d326686ba6683e26b72a23bfac0b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7a61054ae84cd6c4d04c0c4450ba1d6de41e27e0a2c4f1bcdf58f796b401c609\",\"dweb:/ipfs/QmUvtdp7X1mRVyC3CsHrtPbgoqWaXHp3S1ZR24tpAQYJWM\"]},\"node_modules/@openzeppelin/contracts-upgradeable/proxy/utils/UUPSUpgradeable.sol\":{\"keccak256\":\"0xf72d3b11f41fccbbdcacd121f994daab8267ccfceb1fb4f247e4ba274c169d27\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1e46ee40ddc9e2009176ce5d76aa2c046fd68f2ed52d02d77db191365b7c5b2e\",\"dweb:/ipfs/QmZnxgPmCCHosdvbh4J65uTaFYeGtZGzQ1sXRdeh1y68Zr\"]},\"node_modules/@openzeppelin/contracts-upgradeable/utils/ContextUpgradeable.sol\":{\"keccak256\":\"0xdbef5f0c787055227243a7318ef74c8a5a1108ca3a07f2b3a00ef67769e1e397\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://08e39f23d5b4692f9a40803e53a8156b72b4c1f9902a88cd65ba964db103dab9\",\"dweb:/ipfs/QmPKn6EYDgpga7KtpkA8wV2yJCYGMtc9K4LkJfhKX2RVSV\"]},\"node_modules/@openzeppelin/contracts/access/manager/AuthorityUtils.sol\":{\"keccak256\":\"0xb3875997b0d8705e29aa20fee88e1dfef93df438794ae1ad8ba2eb016a4dd4e4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f9e50192f7c7a22829cacfbd14221c3a3d869da64a2333f330d527777f275d9e\",\"dweb:/ipfs/QmaxMQb26ggDmW3SDwJ8y6hRC8dbWbLMpUZBVzZtXqzycJ\"]},\"node_modules/@openzeppelin/contracts/access/manager/IAccessManaged.sol\":{\"keccak256\":\"0xaba93d42cd70e1418782951132d97b31ddce5f50ad81090884b6d0e41caac9d6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b110886f83e3e98a11255a3b56790322e8d83e513304dde71299406685fc6694\",\"dweb:/ipfs/QmPwroS7MUUk1EmsvaJqU6aarhQ8ewJtJMg7xxmTsaxZEv\"]},\"node_modules/@openzeppelin/contracts/access/manager/IAccessManager.sol\":{\"keccak256\":\"0x9be2d08a326515805bc9cf6315b7953f8d1ebe88abf48c2d645fb1fa8211a0e2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e750d656e37efaefbb2300051ec2c4c725db266c5ff89bc985f7ecb8d214c4f4\",\"dweb:/ipfs/QmT51FsZes2n2nrLLh3d8YkBYKY43CtwScZxixcLGzL9r6\"]},\"node_modules/@openzeppelin/contracts/access/manager/IAuthority.sol\":{\"keccak256\":\"0x4cc0766bd7fb7b3bafb70afa2a93b6e313a0baec7a35ad1b57505be7861c1030\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://85871c47ac00d10664b858ef71ecd8b9787c1d313e544ab2c57210c520a3c06c\",\"dweb:/ipfs/QmUMTwojLzURuHftQLzAVuDmib9roj4KwcHCkg3LhZ2AdH\"]},\"node_modules/@openzeppelin/contracts/interfaces/IERC1967.sol\":{\"keccak256\":\"0xb25a4f11fa80c702bf5cd85adec90e6f6f507f32f4a8e6f5dbc31e8c10029486\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6917f8a323e7811f041aecd4d9fd6e92455a6fba38a797ac6f6e208c7912b79d\",\"dweb:/ipfs/QmShuYv55wYHGi4EFkDB8QfF7ZCHoKk2efyz3AWY1ExSq7\"]},\"node_modules/@openzeppelin/contracts/interfaces/draft-IERC1822.sol\":{\"keccak256\":\"0xc42facb5094f2f35f066a7155bda23545e39a3156faef3ddc00185544443ba7d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d3b36282ab029b46bd082619a308a2ea11c309967b9425b7b7a6eb0b0c1c3196\",\"dweb:/ipfs/QmP2YVfDB2FoREax3vJu7QhDnyYRMw52WPrCD4vdT2kuDA\"]},\"node_modules/@openzeppelin/contracts/proxy/ERC1967/ERC1967Utils.sol\":{\"keccak256\":\"0x911c3346ee26afe188f3b9dc267ef62a7ccf940aba1afa963e3922f0ca3d8a06\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://04539f4419e44a831807d7203375d2bc6a733da256efd02e51290f5d5015218c\",\"dweb:/ipfs/QmPZ97gsAAgaMRPiE2WJfkzRsudQnW5tPAvMgGj1jcTJtR\"]},\"node_modules/@openzeppelin/contracts/proxy/beacon/IBeacon.sol\":{\"keccak256\":\"0xc59a78b07b44b2cf2e8ab4175fca91e8eca1eee2df7357b8d2a8833e5ea1f64c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5aa4f07e65444784c29cd7bfcc2341b34381e4e5b5da9f0c5bd00d7f430e66fa\",\"dweb:/ipfs/QmWRMh4Q9DpaU9GvsiXmDdoNYMyyece9if7hnfLz7uqzWM\"]},\"node_modules/@openzeppelin/contracts/utils/Address.sol\":{\"keccak256\":\"0x9d8da059267bac779a2dbbb9a26c2acf00ca83085e105d62d5d4ef96054a47f5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c78e2aa4313323cecd1ef12a8d6265b96beee1a199923abf55d9a2a9e291ad23\",\"dweb:/ipfs/QmUTs2KStXucZezzFo3EYeqYu47utu56qrF7jj1Gue65vb\"]},\"node_modules/@openzeppelin/contracts/utils/Errors.sol\":{\"keccak256\":\"0x6afa713bfd42cf0f7656efa91201007ac465e42049d7de1d50753a373648c123\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ba1d02f4847670a1b83dec9f7d37f0b0418d6043447b69f3a29a5f9efc547fcf\",\"dweb:/ipfs/QmQ7iH2keLNUKgq2xSWcRmuBE5eZ3F5whYAkAGzCNNoEWB\"]},\"node_modules/@openzeppelin/contracts/utils/Panic.sol\":{\"keccak256\":\"0xf7fe324703a64fc51702311dc51562d5cb1497734f074e4f483bfb6717572d7a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c6a5ff4f9fd8649b7ee20800b7fa387d3465bd77cf20c2d1068cd5c98e1ed57a\",\"dweb:/ipfs/QmVSaVJf9FXFhdYEYeCEfjMVHrxDh5qL4CGkxdMWpQCrqG\"]},\"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b\",\"dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM\"]},\"node_modules/@openzeppelin/contracts/utils/math/Math.sol\":{\"keccak256\":\"0xa00be322d7db5786750ce0ac7e2f5b633ac30a5ed5fa1ced1e74acfc19acecea\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6c84e822f87cbdc4082533b626667b6928715bb2b1e8e7eb96954cebb9e38c8d\",\"dweb:/ipfs/QmZmy9dgxLTerBAQDuuHqbL6EpgRxddqgv5KmwpXYVbKz1\"]},\"node_modules/@openzeppelin/contracts/utils/math/SafeCast.sol\":{\"keccak256\":\"0x195533c86d0ef72bcc06456a4f66a9b941f38eb403739b00f21fd7c1abd1ae54\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b1d578337048cad08c1c03041cca5978eff5428aa130c781b271ad9e5566e1f8\",\"dweb:/ipfs/QmPFKL2r9CBsMwmUqqdcFPfHZB2qcs9g1HDrPxzWSxomvy\"]},\"node_modules/@openzeppelin/contracts/utils/types/Time.sol\":{\"keccak256\":\"0x36776530f012618bc7526ceb28e77b85e582cb12d9b9466a71d4bd6bf952e4cc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9f867d046908497287d8a67643dd5d7e38c4027af4ab0a74ffbe1d6790c383c6\",\"dweb:/ipfs/QmQ7s9gMP1nkwThFmoDifnGgpUMsMe5q5ZrAxGDsNnRGza\"]},\"node_modules/@synaps3/types/contracts/core/interfaces/access/IAccessManager.sol\":{\"keccak256\":\"0x839438bf1e2e7432db801b4734831297e075cb120cf91864fb9c52c3ddccbf0f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8008d58c268d046c9bcd9ac5cd4244a666688604bf6be9b243610e041a3c285e\",\"dweb:/ipfs/QmXGXhm8YhdNToMzmAq7aLXQv2vXPkhrTFTwaAYhnhrJkJ\"]},\"node_modules/@synaps3/types/contracts/core/interfaces/policies/IPolicy.sol\":{\"keccak256\":\"0x6bb2e4f5f93d957e5fc351e98155c0c038da3a31dd125e22e06f8cca0d0aa332\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0cb7da10029a309b52c9df25d9d59c3e0404faa156716d0805d540d0a3518915\",\"dweb:/ipfs/QmXgxHWuaQXRnBgAPiPA4hkWcHpcwLgg4d672gTkP793fd\"]},\"node_modules/@synaps3/types/contracts/core/interfaces/rights/IRightsPolicyManager.sol\":{\"keccak256\":\"0xc058362d6b4d98d26f283ecf94b386d95d62346d9ef1c8fb22f6f5dd1fd7ba87\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4a831853a4551cdc78b6cef32134017978bb27e73f73de57062a9eff9d3e836f\",\"dweb:/ipfs/QmYnLR3TRb2umAFxmPFn2fW6baSbfgYqaNm2tgoqyoby7d\"]},\"node_modules/@synaps3/types/contracts/core/libraries/LoopOps.sol\":{\"keccak256\":\"0x882f7c8f53621d83eaa7e8277379add8f40f8fb0352e6c5c5b8fae4f39c21cf4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1f8638cb48fb32ea42b167b909b3d5fecd2ba14c7affdda956d9d5f547636789\",\"dweb:/ipfs/Qmdc5wXqQVCN91ussACQwCi2k6nZaCfsFC6g2nvL7hnKNv\"]},\"node_modules/@synaps3/types/contracts/core/primitives/Constants.sol\":{\"keccak256\":\"0xd3dac9b10f88534046b904f281588f0293fa603ec5c68ffeeaf64eec88ebe65e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d9dddce59781d9a41c012aeff533cca898b1553924f09edf192d0f534f4cc4a1\",\"dweb:/ipfs/QmdKPss1KNAneMGaTXqQSWraN1s6MDCHkMgetn5BVxzXn3\"]},\"node_modules/@synaps3/types/contracts/core/primitives/Types.sol\":{\"keccak256\":\"0x9c0dbb09ad90b98817849666e45a70c371676cbe187709f76021bfd6f7d0bb57\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fb5dafd14005606dd486c8ea5aea374160a59224c03b9687a504360f1c5d190a\",\"dweb:/ipfs/QmVvn3SLREtxwehgxkGg1QE1eMw5QRk5R6kG8qyGujbCTf\"]},\"node_modules/@synaps3/types/contracts/core/primitives/upgradeable/AccessControlledUpgradeable.sol\":{\"keccak256\":\"0x5d99ec9405886a20eeff6ea243c1d94b5994a474338b866d74ffa9bbfa9473f0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1de4b84ddb631eee3d1eb0f921f0d0d20be3f6e808b8b2a21082436816884095\",\"dweb:/ipfs/QmaKZ938AabVXewdFBVtV8SFD4eWJq59AsdoV3aBMY7cmB\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"rightsPolicyManager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"authority","type":"address"}],"type":"error","name":"AccessManagedInvalidAuthority"},{"inputs":[{"internalType":"address","name":"caller","type":"address"},{"internalType":"uint32","name":"delay","type":"uint32"}],"type":"error","name":"AccessManagedRequiredDelay"},{"inputs":[{"internalType":"address","name":"caller","type":"address"}],"type":"error","name":"AccessManagedUnauthorized"},{"inputs":[{"internalType":"address","name":"target","type":"address"}],"type":"error","name":"AddressEmptyCode"},{"inputs":[{"internalType":"address","name":"implementation","type":"address"}],"type":"error","name":"ERC1967InvalidImplementation"},{"inputs":[],"type":"error","name":"ERC1967NonPayable"},{"inputs":[],"type":"error","name":"FailedCall"},{"inputs":[],"type":"error","name":"InvalidInitialization"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"type":"error","name":"InvalidUnauthorizedOperation"},{"inputs":[],"type":"error","name":"NotInitializing"},{"inputs":[],"type":"error","name":"UUPSUnauthorizedCallContext"},{"inputs":[{"internalType":"bytes32","name":"slot","type":"bytes32"}],"type":"error","name":"UUPSUnsupportedProxiableUUID"},{"inputs":[{"internalType":"address","name":"authority","type":"address","indexed":false}],"type":"event","name":"AuthorityUpdated","anonymous":false},{"inputs":[{"internalType":"uint64","name":"version","type":"uint64","indexed":false}],"type":"event","name":"Initialized","anonymous":false},{"inputs":[{"internalType":"address","name":"implementation","type":"address","indexed":true}],"type":"event","name":"Upgraded","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"RIGHTS_POLICY_MANAGER","outputs":[{"internalType":"contract IRightsPolicyManager","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"UPGRADE_INTERFACE_VERSION","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"authority","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"holder","type":"address"}],"stateMutability":"view","type":"function","name":"getActiveLicenses","outputs":[{"internalType":"struct AccessAgg.PolicyLicense[]","name":"","type":"tuple[]","components":[{"internalType":"address","name":"policy","type":"address"},{"internalType":"uint256","name":"license","type":"uint256"}]}]},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"assetId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getActiveLicenses","outputs":[{"internalType":"struct AccessAgg.PolicyLicense[]","name":"","type":"tuple[]","components":[{"internalType":"address","name":"policy","type":"address"},{"internalType":"uint256","name":"license","type":"uint256"}]}]},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes","name":"criteria","type":"bytes"}],"stateMutability":"view","type":"function","name":"getActivePoliciesLicenses","outputs":[{"internalType":"struct AccessAgg.PolicyLicense[]","name":"","type":"tuple[]","components":[{"internalType":"address","name":"policy","type":"address"},{"internalType":"uint256","name":"license","type":"uint256"}]}]},{"inputs":[{"internalType":"address","name":"accessManager","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"holder","type":"address"}],"stateMutability":"view","type":"function","name":"isAccessAllowed","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"assetId","type":"uint256"}],"stateMutability":"view","type":"function","name":"isAccessAllowed","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"isConsumingScheduledOp","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"proxiableUUID","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"address","name":"newAuthority","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setAuthority"},{"inputs":[{"internalType":"address","name":"newImplementation","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"payable","type":"function","name":"upgradeToAndCall"}],"devdoc":{"kind":"dev","methods":{"authority()":{"details":"Returns the current authority."},"constructor":{"custom:oz-upgrades-unsafe-allow":"constructor","details":"Disables initializers to ensure proper proxy usage.","params":{"rightsPolicyManager":"Address of the Rights Policy Manager contract."}},"getActiveLicenses(address,address)":{"details":"Uses the asset holder address as the criteria for license retrieval.","params":{"account":"The address of the account to check.","holder":"The address of the rights holder used as the criteria."},"returns":{"_0":"An array of PolicyLicense structures."}},"getActiveLicenses(address,uint256)":{"details":"Uses the asset ID as the criteria for license retrieval.","params":{"account":"The address of the account to check.","assetId":"The ID of the asset used as the criteria."},"returns":{"_0":"An array of PolicyLicense structures."}},"getActivePoliciesLicenses(address,bytes)":{"params":{"account":"The address of the account to check.","criteria":"Encoded criteria used to filter active policies."}},"initialize(address)":{"details":"Sets up the contract for usage and ensures AccessManager is properly set.","params":{"accessManager":"Address of the Access Manager contract used for permission handling."}},"isAccessAllowed(address,address)":{"details":"Uses the holder address as the search criteria.","params":{"account":"The address of the account to verify.","holder":"The address of the rights holder used as criteria."},"returns":{"_0":"active True if the account has access; otherwise, false.","_1":"address The address of the active policy."}},"isAccessAllowed(address,uint256)":{"details":"Uses the asset ID as the search criteria.","params":{"account":"The address of the account to verify.","assetId":"The ID of the asset used as criteria."},"returns":{"_0":"active True if the account has access; otherwise, false.","_1":"address The address of the active policy."}},"isConsumingScheduledOp()":{"details":"Returns true only in the context of a delayed restricted call, at the moment that the scheduled operation is being consumed. Prevents denial of service for delayed restricted calls in the case that the contract performs attacker controlled calls."},"proxiableUUID()":{"details":"Implementation of the ERC-1822 {proxiableUUID} function. This returns the storage slot used by the implementation. It is used to validate the implementation's compatibility when performing an upgrade. IMPORTANT: A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this function revert if invoked through a proxy. This is guaranteed by the `notDelegated` modifier."},"setAuthority(address)":{"details":"Transfers control to a new authority. The caller must be the current authority."},"upgradeToAndCall(address,bytes)":{"custom:oz-upgrades-unsafe-allow-reachable":"delegatecall","details":"Upgrade the implementation of the proxy to `newImplementation`, and subsequently execute the function call encoded in `data`. Calls {_authorizeUpgrade}. Emits an {Upgraded} event."}},"version":1},"userdoc":{"kind":"user","methods":{"RIGHTS_POLICY_MANAGER()":{"notice":"Address of the Rights Policy Manager contract."},"constructor":{"notice":"Constructor to initialize the immutable Rights Policy Manager."},"getActiveLicenses(address,address)":{"notice":"Retrieves all active licenses for a given account and asset holder."},"getActiveLicenses(address,uint256)":{"notice":"Retrieves all active licenses for a given account and asset ID."},"getActivePoliciesLicenses(address,bytes)":{"notice":"Retrieves active policies and their corresponding licenses for an account."},"initialize(address)":{"notice":"Initializes the proxy state."},"isAccessAllowed(address,address)":{"notice":"Checks if an account has access rights based on a holder's criteria."},"isAccessAllowed(address,uint256)":{"notice":"Checks if an account has access to a specific asset ID."}},"version":1}},"settings":{"remappings":["@account-abstraction/=node_modules/@account-abstraction/","@ethereum-attestation-service/=node_modules/@ethereum-attestation-service/","@ethsign/=node_modules/@ethsign/","@openzeppelin/=node_modules/@openzeppelin/","@synaps3/=node_modules/@synaps3/types/contracts/","@uniswap/=node_modules/@uniswap/","base64-sol/=node_modules/base64-sol/","forge-std/=lib/forge-std/src/","hardhat/=node_modules/hardhat/","solady/=lib/solady/src/"],"optimizer":{"enabled":true,"runs":20000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/aggregation/AccessAgg.sol":"AccessAgg"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"contracts/aggregation/AccessAgg.sol":{"keccak256":"0xf24aac1fe180b4931fc80fa612f1bb45e31044b3e49ec14c568931056dc5ec27","urls":["bzz-raw://7deead2c10965c53b2d50fadbdf1da8d9ea946b41445076b89bd12af00e40679","dweb:/ipfs/QmNS7a2hKWRWk58V6stTZuRYWGtapUasdzFkUGcE5SxZok"],"license":"MIT"},"node_modules/@openzeppelin/contracts-upgradeable/access/manager/AccessManagedUpgradeable.sol":{"keccak256":"0x89017bb026363fdc9fdc4b7c995aaf83e4c5af5c022eafa2e96352f843297373","urls":["bzz-raw://dff6e61ba53c87ad06cbdddb9ff36dec215a41beff91746a80f4a9a32d37f447","dweb:/ipfs/QmUm6hznJTihCTaRx7TXHXKbgyuDEEgehyRzi7TAs8GLvB"],"license":"MIT"},"node_modules/@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol":{"keccak256":"0x631188737069917d2f909d29ce62c4d48611d326686ba6683e26b72a23bfac0b","urls":["bzz-raw://7a61054ae84cd6c4d04c0c4450ba1d6de41e27e0a2c4f1bcdf58f796b401c609","dweb:/ipfs/QmUvtdp7X1mRVyC3CsHrtPbgoqWaXHp3S1ZR24tpAQYJWM"],"license":"MIT"},"node_modules/@openzeppelin/contracts-upgradeable/proxy/utils/UUPSUpgradeable.sol":{"keccak256":"0xf72d3b11f41fccbbdcacd121f994daab8267ccfceb1fb4f247e4ba274c169d27","urls":["bzz-raw://1e46ee40ddc9e2009176ce5d76aa2c046fd68f2ed52d02d77db191365b7c5b2e","dweb:/ipfs/QmZnxgPmCCHosdvbh4J65uTaFYeGtZGzQ1sXRdeh1y68Zr"],"license":"MIT"},"node_modules/@openzeppelin/contracts-upgradeable/utils/ContextUpgradeable.sol":{"keccak256":"0xdbef5f0c787055227243a7318ef74c8a5a1108ca3a07f2b3a00ef67769e1e397","urls":["bzz-raw://08e39f23d5b4692f9a40803e53a8156b72b4c1f9902a88cd65ba964db103dab9","dweb:/ipfs/QmPKn6EYDgpga7KtpkA8wV2yJCYGMtc9K4LkJfhKX2RVSV"],"license":"MIT"},"node_modules/@openzeppelin/contracts/access/manager/AuthorityUtils.sol":{"keccak256":"0xb3875997b0d8705e29aa20fee88e1dfef93df438794ae1ad8ba2eb016a4dd4e4","urls":["bzz-raw://f9e50192f7c7a22829cacfbd14221c3a3d869da64a2333f330d527777f275d9e","dweb:/ipfs/QmaxMQb26ggDmW3SDwJ8y6hRC8dbWbLMpUZBVzZtXqzycJ"],"license":"MIT"},"node_modules/@openzeppelin/contracts/access/manager/IAccessManaged.sol":{"keccak256":"0xaba93d42cd70e1418782951132d97b31ddce5f50ad81090884b6d0e41caac9d6","urls":["bzz-raw://b110886f83e3e98a11255a3b56790322e8d83e513304dde71299406685fc6694","dweb:/ipfs/QmPwroS7MUUk1EmsvaJqU6aarhQ8ewJtJMg7xxmTsaxZEv"],"license":"MIT"},"node_modules/@openzeppelin/contracts/access/manager/IAccessManager.sol":{"keccak256":"0x9be2d08a326515805bc9cf6315b7953f8d1ebe88abf48c2d645fb1fa8211a0e2","urls":["bzz-raw://e750d656e37efaefbb2300051ec2c4c725db266c5ff89bc985f7ecb8d214c4f4","dweb:/ipfs/QmT51FsZes2n2nrLLh3d8YkBYKY43CtwScZxixcLGzL9r6"],"license":"MIT"},"node_modules/@openzeppelin/contracts/access/manager/IAuthority.sol":{"keccak256":"0x4cc0766bd7fb7b3bafb70afa2a93b6e313a0baec7a35ad1b57505be7861c1030","urls":["bzz-raw://85871c47ac00d10664b858ef71ecd8b9787c1d313e544ab2c57210c520a3c06c","dweb:/ipfs/QmUMTwojLzURuHftQLzAVuDmib9roj4KwcHCkg3LhZ2AdH"],"license":"MIT"},"node_modules/@openzeppelin/contracts/interfaces/IERC1967.sol":{"keccak256":"0xb25a4f11fa80c702bf5cd85adec90e6f6f507f32f4a8e6f5dbc31e8c10029486","urls":["bzz-raw://6917f8a323e7811f041aecd4d9fd6e92455a6fba38a797ac6f6e208c7912b79d","dweb:/ipfs/QmShuYv55wYHGi4EFkDB8QfF7ZCHoKk2efyz3AWY1ExSq7"],"license":"MIT"},"node_modules/@openzeppelin/contracts/interfaces/draft-IERC1822.sol":{"keccak256":"0xc42facb5094f2f35f066a7155bda23545e39a3156faef3ddc00185544443ba7d","urls":["bzz-raw://d3b36282ab029b46bd082619a308a2ea11c309967b9425b7b7a6eb0b0c1c3196","dweb:/ipfs/QmP2YVfDB2FoREax3vJu7QhDnyYRMw52WPrCD4vdT2kuDA"],"license":"MIT"},"node_modules/@openzeppelin/contracts/proxy/ERC1967/ERC1967Utils.sol":{"keccak256":"0x911c3346ee26afe188f3b9dc267ef62a7ccf940aba1afa963e3922f0ca3d8a06","urls":["bzz-raw://04539f4419e44a831807d7203375d2bc6a733da256efd02e51290f5d5015218c","dweb:/ipfs/QmPZ97gsAAgaMRPiE2WJfkzRsudQnW5tPAvMgGj1jcTJtR"],"license":"MIT"},"node_modules/@openzeppelin/contracts/proxy/beacon/IBeacon.sol":{"keccak256":"0xc59a78b07b44b2cf2e8ab4175fca91e8eca1eee2df7357b8d2a8833e5ea1f64c","urls":["bzz-raw://5aa4f07e65444784c29cd7bfcc2341b34381e4e5b5da9f0c5bd00d7f430e66fa","dweb:/ipfs/QmWRMh4Q9DpaU9GvsiXmDdoNYMyyece9if7hnfLz7uqzWM"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/Address.sol":{"keccak256":"0x9d8da059267bac779a2dbbb9a26c2acf00ca83085e105d62d5d4ef96054a47f5","urls":["bzz-raw://c78e2aa4313323cecd1ef12a8d6265b96beee1a199923abf55d9a2a9e291ad23","dweb:/ipfs/QmUTs2KStXucZezzFo3EYeqYu47utu56qrF7jj1Gue65vb"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/Errors.sol":{"keccak256":"0x6afa713bfd42cf0f7656efa91201007ac465e42049d7de1d50753a373648c123","urls":["bzz-raw://ba1d02f4847670a1b83dec9f7d37f0b0418d6043447b69f3a29a5f9efc547fcf","dweb:/ipfs/QmQ7iH2keLNUKgq2xSWcRmuBE5eZ3F5whYAkAGzCNNoEWB"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/Panic.sol":{"keccak256":"0xf7fe324703a64fc51702311dc51562d5cb1497734f074e4f483bfb6717572d7a","urls":["bzz-raw://c6a5ff4f9fd8649b7ee20800b7fa387d3465bd77cf20c2d1068cd5c98e1ed57a","dweb:/ipfs/QmVSaVJf9FXFhdYEYeCEfjMVHrxDh5qL4CGkxdMWpQCrqG"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol":{"keccak256":"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97","urls":["bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b","dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/math/Math.sol":{"keccak256":"0xa00be322d7db5786750ce0ac7e2f5b633ac30a5ed5fa1ced1e74acfc19acecea","urls":["bzz-raw://6c84e822f87cbdc4082533b626667b6928715bb2b1e8e7eb96954cebb9e38c8d","dweb:/ipfs/QmZmy9dgxLTerBAQDuuHqbL6EpgRxddqgv5KmwpXYVbKz1"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/math/SafeCast.sol":{"keccak256":"0x195533c86d0ef72bcc06456a4f66a9b941f38eb403739b00f21fd7c1abd1ae54","urls":["bzz-raw://b1d578337048cad08c1c03041cca5978eff5428aa130c781b271ad9e5566e1f8","dweb:/ipfs/QmPFKL2r9CBsMwmUqqdcFPfHZB2qcs9g1HDrPxzWSxomvy"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/types/Time.sol":{"keccak256":"0x36776530f012618bc7526ceb28e77b85e582cb12d9b9466a71d4bd6bf952e4cc","urls":["bzz-raw://9f867d046908497287d8a67643dd5d7e38c4027af4ab0a74ffbe1d6790c383c6","dweb:/ipfs/QmQ7s9gMP1nkwThFmoDifnGgpUMsMe5q5ZrAxGDsNnRGza"],"license":"MIT"},"node_modules/@synaps3/types/contracts/core/interfaces/access/IAccessManager.sol":{"keccak256":"0x839438bf1e2e7432db801b4734831297e075cb120cf91864fb9c52c3ddccbf0f","urls":["bzz-raw://8008d58c268d046c9bcd9ac5cd4244a666688604bf6be9b243610e041a3c285e","dweb:/ipfs/QmXGXhm8YhdNToMzmAq7aLXQv2vXPkhrTFTwaAYhnhrJkJ"],"license":"MIT"},"node_modules/@synaps3/types/contracts/core/interfaces/policies/IPolicy.sol":{"keccak256":"0x6bb2e4f5f93d957e5fc351e98155c0c038da3a31dd125e22e06f8cca0d0aa332","urls":["bzz-raw://0cb7da10029a309b52c9df25d9d59c3e0404faa156716d0805d540d0a3518915","dweb:/ipfs/QmXgxHWuaQXRnBgAPiPA4hkWcHpcwLgg4d672gTkP793fd"],"license":"MIT"},"node_modules/@synaps3/types/contracts/core/interfaces/rights/IRightsPolicyManager.sol":{"keccak256":"0xc058362d6b4d98d26f283ecf94b386d95d62346d9ef1c8fb22f6f5dd1fd7ba87","urls":["bzz-raw://4a831853a4551cdc78b6cef32134017978bb27e73f73de57062a9eff9d3e836f","dweb:/ipfs/QmYnLR3TRb2umAFxmPFn2fW6baSbfgYqaNm2tgoqyoby7d"],"license":"MIT"},"node_modules/@synaps3/types/contracts/core/libraries/LoopOps.sol":{"keccak256":"0x882f7c8f53621d83eaa7e8277379add8f40f8fb0352e6c5c5b8fae4f39c21cf4","urls":["bzz-raw://1f8638cb48fb32ea42b167b909b3d5fecd2ba14c7affdda956d9d5f547636789","dweb:/ipfs/Qmdc5wXqQVCN91ussACQwCi2k6nZaCfsFC6g2nvL7hnKNv"],"license":"MIT"},"node_modules/@synaps3/types/contracts/core/primitives/Constants.sol":{"keccak256":"0xd3dac9b10f88534046b904f281588f0293fa603ec5c68ffeeaf64eec88ebe65e","urls":["bzz-raw://d9dddce59781d9a41c012aeff533cca898b1553924f09edf192d0f534f4cc4a1","dweb:/ipfs/QmdKPss1KNAneMGaTXqQSWraN1s6MDCHkMgetn5BVxzXn3"],"license":"MIT"},"node_modules/@synaps3/types/contracts/core/primitives/Types.sol":{"keccak256":"0x9c0dbb09ad90b98817849666e45a70c371676cbe187709f76021bfd6f7d0bb57","urls":["bzz-raw://fb5dafd14005606dd486c8ea5aea374160a59224c03b9687a504360f1c5d190a","dweb:/ipfs/QmVvn3SLREtxwehgxkGg1QE1eMw5QRk5R6kG8qyGujbCTf"],"license":"MIT"},"node_modules/@synaps3/types/contracts/core/primitives/upgradeable/AccessControlledUpgradeable.sol":{"keccak256":"0x5d99ec9405886a20eeff6ea243c1d94b5994a474338b866d74ffa9bbfa9473f0","urls":["bzz-raw://1de4b84ddb631eee3d1eb0f921f0d0d20be3f6e808b8b2a21082436816884095","dweb:/ipfs/QmaKZ938AabVXewdFBVtV8SFD4eWJq59AsdoV3aBMY7cmB"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"contracts/aggregation/AccessAgg.sol","id":286,"exportedSymbols":{"AccessAgg":[285],"AccessControlledUpgradeable":[48582],"IPolicy":[47548],"IRightsPolicyManager":[47652],"Initializable":[40413],"LoopOps":[47966],"UUPSUpgradeable":[40595]},"nodeType":"SourceUnit","src":"32:6387:0","nodes":[{"id":1,"nodeType":"PragmaDirective","src":"32:23:0","nodes":[],"literals":["solidity","0.8",".26"]},{"id":3,"nodeType":"ImportDirective","src":"57:98:0","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol","file":"@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol","nameLocation":"-1:-1:-1","scope":286,"sourceUnit":40414,"symbolAliases":[{"foreign":{"id":2,"name":"Initializable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40413,"src":"66:13:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":5,"nodeType":"ImportDirective","src":"156:102:0","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts-upgradeable/proxy/utils/UUPSUpgradeable.sol","file":"@openzeppelin/contracts-upgradeable/proxy/utils/UUPSUpgradeable.sol","nameLocation":"-1:-1:-1","scope":286,"sourceUnit":40596,"symbolAliases":[{"foreign":{"id":4,"name":"UUPSUpgradeable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40595,"src":"165:15:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":7,"nodeType":"ImportDirective","src":"259:115:0","nodes":[],"absolutePath":"node_modules/@synaps3/types/contracts/core/primitives/upgradeable/AccessControlledUpgradeable.sol","file":"@synaps3/core/primitives/upgradeable/AccessControlledUpgradeable.sol","nameLocation":"-1:-1:-1","scope":286,"sourceUnit":48583,"symbolAliases":[{"foreign":{"id":6,"name":"AccessControlledUpgradeable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48582,"src":"268:27:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":9,"nodeType":"ImportDirective","src":"376:96:0","nodes":[],"absolutePath":"node_modules/@synaps3/types/contracts/core/interfaces/rights/IRightsPolicyManager.sol","file":"@synaps3/core/interfaces/rights/IRightsPolicyManager.sol","nameLocation":"-1:-1:-1","scope":286,"sourceUnit":47653,"symbolAliases":[{"foreign":{"id":8,"name":"IRightsPolicyManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47652,"src":"385:20:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":11,"nodeType":"ImportDirective","src":"473:72:0","nodes":[],"absolutePath":"node_modules/@synaps3/types/contracts/core/interfaces/policies/IPolicy.sol","file":"@synaps3/core/interfaces/policies/IPolicy.sol","nameLocation":"-1:-1:-1","scope":286,"sourceUnit":47549,"symbolAliases":[{"foreign":{"id":10,"name":"IPolicy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47548,"src":"482:7:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":13,"nodeType":"ImportDirective","src":"546:62:0","nodes":[],"absolutePath":"node_modules/@synaps3/types/contracts/core/libraries/LoopOps.sol","file":"@synaps3/core/libraries/LoopOps.sol","nameLocation":"-1:-1:-1","scope":286,"sourceUnit":47967,"symbolAliases":[{"foreign":{"id":12,"name":"LoopOps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47966,"src":"555:7:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":285,"nodeType":"ContractDefinition","src":"801:5617:0","nodes":[{"id":23,"nodeType":"UsingForDirective","src":"889:26:0","nodes":[],"global":false,"libraryName":{"id":21,"name":"LoopOps","nameLocations":["895:7:0"],"nodeType":"IdentifierPath","referencedDeclaration":47966,"src":"895:7:0"},"typeName":{"id":22,"name":"uint256","nodeType":"ElementaryTypeName","src":"907:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":29,"nodeType":"StructDefinition","src":"1027:153:0","nodes":[],"canonicalName":"AccessAgg.PolicyLicense","documentation":{"id":24,"nodeType":"StructuredDocumentation","src":"921:101:0","text":"@notice Data structure representing the relationship between a policy and its associated license."},"members":[{"constant":false,"id":26,"mutability":"mutable","name":"policy","nameLocation":"1066:6:0","nodeType":"VariableDeclaration","scope":29,"src":"1058:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":25,"name":"address","nodeType":"ElementaryTypeName","src":"1058:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":28,"mutability":"mutable","name":"license","nameLocation":"1124:7:0","nodeType":"VariableDeclaration","scope":29,"src":"1116:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27,"name":"uint256","nodeType":"ElementaryTypeName","src":"1116:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"PolicyLicense","nameLocation":"1034:13:0","scope":285,"visibility":"public"},{"id":33,"nodeType":"VariableDeclaration","src":"1383:59:0","nodes":[],"constant":false,"documentation":{"id":30,"nodeType":"StructuredDocumentation","src":"1186:192:0","text":"@notice Address of the Rights Policy Manager contract.\n @dev This variable is immutable and set at deployment time.\n @custom:oz-upgrades-unsafe-allow state-variable-immutable"},"functionSelector":"f1bdc452","mutability":"immutable","name":"RIGHTS_POLICY_MANAGER","nameLocation":"1421:21:0","scope":285,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRightsPolicyManager_$47652","typeString":"contract IRightsPolicyManager"},"typeName":{"id":32,"nodeType":"UserDefinedTypeName","pathNode":{"id":31,"name":"IRightsPolicyManager","nameLocations":["1383:20:0"],"nodeType":"IdentifierPath","referencedDeclaration":47652,"src":"1383:20:0"},"referencedDeclaration":47652,"src":"1383:20:0","typeDescriptions":{"typeIdentifier":"t_contract$_IRightsPolicyManager_$47652","typeString":"contract IRightsPolicyManager"}},"visibility":"public"},{"id":49,"nodeType":"FunctionDefinition","src":"1728:155:0","nodes":[],"body":{"id":48,"nodeType":"Block","src":"1769:114:0","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39,"name":"_disableInitializers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40381,"src":"1779:20:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":40,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1779:22:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":41,"nodeType":"ExpressionStatement","src":"1779:22:0"},{"expression":{"id":46,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":42,"name":"RIGHTS_POLICY_MANAGER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33,"src":"1811:21:0","typeDescriptions":{"typeIdentifier":"t_contract$_IRightsPolicyManager_$47652","typeString":"contract IRightsPolicyManager"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":44,"name":"rightsPolicyManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"1856:19:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":43,"name":"IRightsPolicyManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47652,"src":"1835:20:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IRightsPolicyManager_$47652_$","typeString":"type(contract IRightsPolicyManager)"}},"id":45,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1835:41:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IRightsPolicyManager_$47652","typeString":"contract IRightsPolicyManager"}},"src":"1811:65:0","typeDescriptions":{"typeIdentifier":"t_contract$_IRightsPolicyManager_$47652","typeString":"contract IRightsPolicyManager"}},"id":47,"nodeType":"ExpressionStatement","src":"1811:65:0"}]},"documentation":{"id":34,"nodeType":"StructuredDocumentation","src":"1449:274:0","text":"@notice Constructor to initialize the immutable Rights Policy Manager.\n @dev Disables initializers to ensure proper proxy usage.\n @param rightsPolicyManager Address of the Rights Policy Manager contract.\n @custom:oz-upgrades-unsafe-allow constructor"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":37,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36,"mutability":"mutable","name":"rightsPolicyManager","nameLocation":"1748:19:0","nodeType":"VariableDeclaration","scope":49,"src":"1740:27:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35,"name":"address","nodeType":"ElementaryTypeName","src":"1740:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1739:29:0"},"returnParameters":{"id":38,"nodeType":"ParameterList","parameters":[],"src":"1769:0:0"},"scope":285,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":65,"nodeType":"FunctionDefinition","src":"2119:151:0","nodes":[],"body":{"id":64,"nodeType":"Block","src":"2181:89:0","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":57,"name":"__UUPSUpgradeable_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40467,"src":"2191:22:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":58,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2191:24:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":59,"nodeType":"ExpressionStatement","src":"2191:24:0"},{"expression":{"arguments":[{"id":61,"name":"accessManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"2249:13:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":60,"name":"__AccessControlled_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48517,"src":"2225:23:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":62,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2225:38:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":63,"nodeType":"ExpressionStatement","src":"2225:38:0"}]},"documentation":{"id":50,"nodeType":"StructuredDocumentation","src":"1889:225:0","text":"@notice Initializes the proxy state.\n @dev Sets up the contract for usage and ensures AccessManager is properly set.\n @param accessManager Address of the Access Manager contract used for permission handling."},"functionSelector":"c4d66de8","implemented":true,"kind":"function","modifiers":[{"id":55,"kind":"modifierInvocation","modifierName":{"id":54,"name":"initializer","nameLocations":["2169:11:0"],"nodeType":"IdentifierPath","referencedDeclaration":40267,"src":"2169:11:0"},"nodeType":"ModifierInvocation","src":"2169:11:0"}],"name":"initialize","nameLocation":"2128:10:0","parameters":{"id":53,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52,"mutability":"mutable","name":"accessManager","nameLocation":"2147:13:0","nodeType":"VariableDeclaration","scope":65,"src":"2139:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51,"name":"address","nodeType":"ElementaryTypeName","src":"2139:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2138:23:0"},"returnParameters":{"id":56,"nodeType":"ParameterList","parameters":[],"src":"2181:0:0"},"scope":285,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":90,"nodeType":"FunctionDefinition","src":"2633:271:0","nodes":[],"body":{"id":89,"nodeType":"Block","src":"2740:164:0","nodes":[],"statements":[{"assignments":[78],"declarations":[{"constant":false,"id":78,"mutability":"mutable","name":"criteria","nameLocation":"2763:8:0","nodeType":"VariableDeclaration","scope":89,"src":"2750:21:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":77,"name":"bytes","nodeType":"ElementaryTypeName","src":"2750:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":83,"initialValue":{"arguments":[{"id":81,"name":"holder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70,"src":"2785:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":79,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2774:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":80,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2778:6:0","memberName":"encode","nodeType":"MemberAccess","src":"2774:10:0","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":82,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2774:18:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"2750:42:0"},{"expression":{"arguments":[{"id":85,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68,"src":"2879:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":86,"name":"criteria","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":78,"src":"2888:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":84,"name":"getActivePoliciesLicenses","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":274,"src":"2853:25:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes_memory_ptr_$returns$_t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr_$","typeString":"function (address,bytes memory) view returns (struct AccessAgg.PolicyLicense memory[] memory)"}},"id":87,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2853:44:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr","typeString":"struct AccessAgg.PolicyLicense memory[] memory"}},"functionReturnParameters":76,"id":88,"nodeType":"Return","src":"2846:51:0"}]},"documentation":{"id":66,"nodeType":"StructuredDocumentation","src":"2276:352:0","text":"@notice Retrieves all active licenses for a given account and asset holder.\n @dev Uses the asset holder address as the criteria for license retrieval.\n @param account The address of the account to check.\n @param holder The address of the rights holder used as the criteria.\n @return An array of PolicyLicense structures."},"functionSelector":"2b1e6e8f","implemented":true,"kind":"function","modifiers":[],"name":"getActiveLicenses","nameLocation":"2642:17:0","parameters":{"id":71,"nodeType":"ParameterList","parameters":[{"constant":false,"id":68,"mutability":"mutable","name":"account","nameLocation":"2668:7:0","nodeType":"VariableDeclaration","scope":90,"src":"2660:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":67,"name":"address","nodeType":"ElementaryTypeName","src":"2660:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":70,"mutability":"mutable","name":"holder","nameLocation":"2685:6:0","nodeType":"VariableDeclaration","scope":90,"src":"2677:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":69,"name":"address","nodeType":"ElementaryTypeName","src":"2677:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2659:33:0"},"returnParameters":{"id":76,"nodeType":"ParameterList","parameters":[{"constant":false,"id":75,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":90,"src":"2716:22:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr","typeString":"struct AccessAgg.PolicyLicense[]"},"typeName":{"baseType":{"id":73,"nodeType":"UserDefinedTypeName","pathNode":{"id":72,"name":"PolicyLicense","nameLocations":["2716:13:0"],"nodeType":"IdentifierPath","referencedDeclaration":29,"src":"2716:13:0"},"referencedDeclaration":29,"src":"2716:13:0","typeDescriptions":{"typeIdentifier":"t_struct$_PolicyLicense_$29_storage_ptr","typeString":"struct AccessAgg.PolicyLicense"}},"id":74,"nodeType":"ArrayTypeName","src":"2716:15:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_storage_$dyn_storage_ptr","typeString":"struct AccessAgg.PolicyLicense[]"}},"visibility":"internal"}],"src":"2715:24:0"},"scope":285,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":115,"nodeType":"FunctionDefinition","src":"3239:267:0","nodes":[],"body":{"id":114,"nodeType":"Block","src":"3347:159:0","nodes":[],"statements":[{"assignments":[103],"declarations":[{"constant":false,"id":103,"mutability":"mutable","name":"criteria","nameLocation":"3370:8:0","nodeType":"VariableDeclaration","scope":114,"src":"3357:21:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":102,"name":"bytes","nodeType":"ElementaryTypeName","src":"3357:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":108,"initialValue":{"arguments":[{"id":106,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":95,"src":"3392:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":104,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"3381:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":105,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3385:6:0","memberName":"encode","nodeType":"MemberAccess","src":"3381:10:0","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":107,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3381:19:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"3357:43:0"},{"expression":{"arguments":[{"id":110,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":93,"src":"3481:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":111,"name":"criteria","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103,"src":"3490:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":109,"name":"getActivePoliciesLicenses","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":274,"src":"3455:25:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes_memory_ptr_$returns$_t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr_$","typeString":"function (address,bytes memory) view returns (struct AccessAgg.PolicyLicense memory[] memory)"}},"id":112,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3455:44:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr","typeString":"struct AccessAgg.PolicyLicense memory[] memory"}},"functionReturnParameters":101,"id":113,"nodeType":"Return","src":"3448:51:0"}]},"documentation":{"id":91,"nodeType":"StructuredDocumentation","src":"2910:324:0","text":"@notice Retrieves all active licenses for a given account and asset ID.\n @dev Uses the asset ID as the criteria for license retrieval.\n @param account The address of the account to check.\n @param assetId The ID of the asset used as the criteria.\n @return An array of PolicyLicense structures."},"functionSelector":"4bad81cb","implemented":true,"kind":"function","modifiers":[],"name":"getActiveLicenses","nameLocation":"3248:17:0","parameters":{"id":96,"nodeType":"ParameterList","parameters":[{"constant":false,"id":93,"mutability":"mutable","name":"account","nameLocation":"3274:7:0","nodeType":"VariableDeclaration","scope":115,"src":"3266:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":92,"name":"address","nodeType":"ElementaryTypeName","src":"3266:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":95,"mutability":"mutable","name":"assetId","nameLocation":"3291:7:0","nodeType":"VariableDeclaration","scope":115,"src":"3283:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":94,"name":"uint256","nodeType":"ElementaryTypeName","src":"3283:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3265:34:0"},"returnParameters":{"id":101,"nodeType":"ParameterList","parameters":[{"constant":false,"id":100,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":115,"src":"3323:22:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr","typeString":"struct AccessAgg.PolicyLicense[]"},"typeName":{"baseType":{"id":98,"nodeType":"UserDefinedTypeName","pathNode":{"id":97,"name":"PolicyLicense","nameLocations":["3323:13:0"],"nodeType":"IdentifierPath","referencedDeclaration":29,"src":"3323:13:0"},"referencedDeclaration":29,"src":"3323:13:0","typeDescriptions":{"typeIdentifier":"t_struct$_PolicyLicense_$29_storage_ptr","typeString":"struct AccessAgg.PolicyLicense"}},"id":99,"nodeType":"ArrayTypeName","src":"3323:15:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_storage_$dyn_storage_ptr","typeString":"struct AccessAgg.PolicyLicense[]"}},"visibility":"internal"}],"src":"3322:24:0"},"scope":285,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":141,"nodeType":"FunctionDefinition","src":"3923:270:0","nodes":[],"body":{"id":140,"nodeType":"Block","src":"4017:176:0","nodes":[],"statements":[{"assignments":[128],"declarations":[{"constant":false,"id":128,"mutability":"mutable","name":"criteria","nameLocation":"4040:8:0","nodeType":"VariableDeclaration","scope":140,"src":"4027:21:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":127,"name":"bytes","nodeType":"ElementaryTypeName","src":"4027:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":133,"initialValue":{"arguments":[{"id":131,"name":"holder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":120,"src":"4062:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":129,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"4051:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":130,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4055:6:0","memberName":"encode","nodeType":"MemberAccess","src":"4051:10:0","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":132,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4051:18:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"4027:42:0"},{"expression":{"arguments":[{"id":136,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":118,"src":"4168:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":137,"name":"criteria","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":128,"src":"4177:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":134,"name":"RIGHTS_POLICY_MANAGER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33,"src":"4130:21:0","typeDescriptions":{"typeIdentifier":"t_contract$_IRightsPolicyManager_$47652","typeString":"contract IRightsPolicyManager"}},"id":135,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4152:15:0","memberName":"getActivePolicy","nodeType":"MemberAccess","referencedDeclaration":47615,"src":"4130:37:0","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_bytes_memory_ptr_$returns$_t_bool_$_t_address_$","typeString":"function (address,bytes memory) view external returns (bool,address)"}},"id":138,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4130:56:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_address_$","typeString":"tuple(bool,address)"}},"functionReturnParameters":126,"id":139,"nodeType":"Return","src":"4123:63:0"}]},"documentation":{"id":116,"nodeType":"StructuredDocumentation","src":"3512:406:0","text":"@notice Checks if an account has access rights based on a holder's criteria.\n @dev Uses the holder address as the search criteria.\n @param account The address of the account to verify.\n @param holder The address of the rights holder used as criteria.\n @return active True if the account has access; otherwise, false.\n @return address The address of the active policy."},"functionSelector":"96ba154d","implemented":true,"kind":"function","modifiers":[],"name":"isAccessAllowed","nameLocation":"3932:15:0","parameters":{"id":121,"nodeType":"ParameterList","parameters":[{"constant":false,"id":118,"mutability":"mutable","name":"account","nameLocation":"3956:7:0","nodeType":"VariableDeclaration","scope":141,"src":"3948:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":117,"name":"address","nodeType":"ElementaryTypeName","src":"3948:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":120,"mutability":"mutable","name":"holder","nameLocation":"3973:6:0","nodeType":"VariableDeclaration","scope":141,"src":"3965:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":119,"name":"address","nodeType":"ElementaryTypeName","src":"3965:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3947:33:0"},"returnParameters":{"id":126,"nodeType":"ParameterList","parameters":[{"constant":false,"id":123,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":141,"src":"4002:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":122,"name":"bool","nodeType":"ElementaryTypeName","src":"4002:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":125,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":141,"src":"4008:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":124,"name":"address","nodeType":"ElementaryTypeName","src":"4008:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4001:15:0"},"scope":285,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":167,"nodeType":"FunctionDefinition","src":"4579:266:0","nodes":[],"body":{"id":166,"nodeType":"Block","src":"4674:171:0","nodes":[],"statements":[{"assignments":[154],"declarations":[{"constant":false,"id":154,"mutability":"mutable","name":"criteria","nameLocation":"4697:8:0","nodeType":"VariableDeclaration","scope":166,"src":"4684:21:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":153,"name":"bytes","nodeType":"ElementaryTypeName","src":"4684:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":159,"initialValue":{"arguments":[{"id":157,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":146,"src":"4719:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":155,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"4708:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":156,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4712:6:0","memberName":"encode","nodeType":"MemberAccess","src":"4708:10:0","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":158,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4708:19:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"4684:43:0"},{"expression":{"arguments":[{"id":162,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":144,"src":"4820:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":163,"name":"criteria","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":154,"src":"4829:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":160,"name":"RIGHTS_POLICY_MANAGER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33,"src":"4782:21:0","typeDescriptions":{"typeIdentifier":"t_contract$_IRightsPolicyManager_$47652","typeString":"contract IRightsPolicyManager"}},"id":161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4804:15:0","memberName":"getActivePolicy","nodeType":"MemberAccess","referencedDeclaration":47615,"src":"4782:37:0","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_bytes_memory_ptr_$returns$_t_bool_$_t_address_$","typeString":"function (address,bytes memory) view external returns (bool,address)"}},"id":164,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4782:56:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_address_$","typeString":"tuple(bool,address)"}},"functionReturnParameters":152,"id":165,"nodeType":"Return","src":"4775:63:0"}]},"documentation":{"id":142,"nodeType":"StructuredDocumentation","src":"4199:375:0","text":"@notice Checks if an account has access to a specific asset ID.\n @dev Uses the asset ID as the search criteria.\n @param account The address of the account to verify.\n @param assetId The ID of the asset used as criteria.\n @return active True if the account has access; otherwise, false.\n @return address The address of the active policy."},"functionSelector":"ac3e8fb0","implemented":true,"kind":"function","modifiers":[],"name":"isAccessAllowed","nameLocation":"4588:15:0","parameters":{"id":147,"nodeType":"ParameterList","parameters":[{"constant":false,"id":144,"mutability":"mutable","name":"account","nameLocation":"4612:7:0","nodeType":"VariableDeclaration","scope":167,"src":"4604:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":143,"name":"address","nodeType":"ElementaryTypeName","src":"4604:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":146,"mutability":"mutable","name":"assetId","nameLocation":"4629:7:0","nodeType":"VariableDeclaration","scope":167,"src":"4621:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":145,"name":"uint256","nodeType":"ElementaryTypeName","src":"4621:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4603:34:0"},"returnParameters":{"id":152,"nodeType":"ParameterList","parameters":[{"constant":false,"id":149,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":167,"src":"4659:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":148,"name":"bool","nodeType":"ElementaryTypeName","src":"4659:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":151,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":167,"src":"4665:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":150,"name":"address","nodeType":"ElementaryTypeName","src":"4665:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4658:15:0"},"scope":285,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":274,"nodeType":"FunctionDefinition","src":"5075:953:0","nodes":[],"body":{"id":273,"nodeType":"Block","src":"5217:811:0","nodes":[],"statements":[{"assignments":[183],"declarations":[{"constant":false,"id":183,"mutability":"mutable","name":"policies","nameLocation":"5244:8:0","nodeType":"VariableDeclaration","scope":273,"src":"5227:25:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":181,"name":"address","nodeType":"ElementaryTypeName","src":"5227:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":182,"nodeType":"ArrayTypeName","src":"5227:9:0","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"id":189,"initialValue":{"arguments":[{"id":186,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":170,"src":"5295:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":187,"name":"criteria","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":172,"src":"5304:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":184,"name":"RIGHTS_POLICY_MANAGER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33,"src":"5255:21:0","typeDescriptions":{"typeIdentifier":"t_contract$_IRightsPolicyManager_$47652","typeString":"contract IRightsPolicyManager"}},"id":185,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5277:17:0","memberName":"getActivePolicies","nodeType":"MemberAccess","referencedDeclaration":47626,"src":"5255:39:0","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_bytes_memory_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (address,bytes memory) view external returns (address[] memory)"}},"id":188,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5255:58:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"VariableDeclarationStatement","src":"5227:86:0"},{"assignments":[194],"declarations":[{"constant":false,"id":194,"mutability":"mutable","name":"licenses","nameLocation":"5346:8:0","nodeType":"VariableDeclaration","scope":273,"src":"5323:31:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr","typeString":"struct AccessAgg.PolicyLicense[]"},"typeName":{"baseType":{"id":192,"nodeType":"UserDefinedTypeName","pathNode":{"id":191,"name":"PolicyLicense","nameLocations":["5323:13:0"],"nodeType":"IdentifierPath","referencedDeclaration":29,"src":"5323:13:0"},"referencedDeclaration":29,"src":"5323:13:0","typeDescriptions":{"typeIdentifier":"t_struct$_PolicyLicense_$29_storage_ptr","typeString":"struct AccessAgg.PolicyLicense"}},"id":193,"nodeType":"ArrayTypeName","src":"5323:15:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_storage_$dyn_storage_ptr","typeString":"struct AccessAgg.PolicyLicense[]"}},"visibility":"internal"}],"id":202,"initialValue":{"arguments":[{"expression":{"id":199,"name":"policies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":183,"src":"5377:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":200,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5386:6:0","memberName":"length","nodeType":"MemberAccess","src":"5377:15:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":198,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"5357:19:0","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (struct AccessAgg.PolicyLicense memory[] memory)"},"typeName":{"baseType":{"id":196,"nodeType":"UserDefinedTypeName","pathNode":{"id":195,"name":"PolicyLicense","nameLocations":["5361:13:0"],"nodeType":"IdentifierPath","referencedDeclaration":29,"src":"5361:13:0"},"referencedDeclaration":29,"src":"5361:13:0","typeDescriptions":{"typeIdentifier":"t_struct$_PolicyLicense_$29_storage_ptr","typeString":"struct AccessAgg.PolicyLicense"}},"id":197,"nodeType":"ArrayTypeName","src":"5361:15:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_storage_$dyn_storage_ptr","typeString":"struct AccessAgg.PolicyLicense[]"}}},"id":201,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5357:36:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr","typeString":"struct AccessAgg.PolicyLicense memory[] memory"}},"nodeType":"VariableDeclarationStatement","src":"5323:70:0"},{"assignments":[204],"declarations":[{"constant":false,"id":204,"mutability":"mutable","name":"policiesLen","nameLocation":"5411:11:0","nodeType":"VariableDeclaration","scope":273,"src":"5403:19:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":203,"name":"uint256","nodeType":"ElementaryTypeName","src":"5403:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":207,"initialValue":{"expression":{"id":205,"name":"policies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":183,"src":"5425:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":206,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5434:6:0","memberName":"length","nodeType":"MemberAccess","src":"5425:15:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5403:37:0"},{"body":{"id":269,"nodeType":"Block","src":"5510:486:0","statements":[{"assignments":[222],"declarations":[{"constant":false,"id":222,"mutability":"mutable","name":"policyAddress","nameLocation":"5532:13:0","nodeType":"VariableDeclaration","scope":269,"src":"5524:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":221,"name":"address","nodeType":"ElementaryTypeName","src":"5524:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":226,"initialValue":{"baseExpression":{"id":223,"name":"policies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":183,"src":"5548:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":225,"indexExpression":{"id":224,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5557:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5548:11:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"5524:35:0"},{"assignments":[228],"declarations":[{"constant":false,"id":228,"mutability":"mutable","name":"callData","nameLocation":"5626:8:0","nodeType":"VariableDeclaration","scope":269,"src":"5613:21:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":227,"name":"bytes","nodeType":"ElementaryTypeName","src":"5613:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":237,"initialValue":{"arguments":[{"expression":{"id":231,"name":"IPolicy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47548,"src":"5652:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPolicy_$47548_$","typeString":"type(contract IPolicy)"}},"id":232,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5660:10:0","memberName":"getLicense","nodeType":"MemberAccess","referencedDeclaration":47532,"src":"5652:18:0","typeDescriptions":{"typeIdentifier":"t_function_declaration_view$_t_address_$_t_bytes_calldata_ptr_$returns$_t_uint256_$","typeString":"function IPolicy.getLicense(address,bytes calldata) view returns (uint256)"}},{"components":[{"id":233,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":170,"src":"5673:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":234,"name":"criteria","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":172,"src":"5682:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"id":235,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5672:19:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_bytes_memory_ptr_$","typeString":"tuple(address,bytes memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_view$_t_address_$_t_bytes_calldata_ptr_$returns$_t_uint256_$","typeString":"function IPolicy.getLicense(address,bytes calldata) view returns (uint256)"},{"typeIdentifier":"t_tuple$_t_address_$_t_bytes_memory_ptr_$","typeString":"tuple(address,bytes memory)"}],"expression":{"id":229,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"5637:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":230,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5641:10:0","memberName":"encodeCall","nodeType":"MemberAccess","src":"5637:14:0","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":236,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5637:55:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"5613:79:0"},{"assignments":[null,239],"declarations":[null,{"constant":false,"id":239,"mutability":"mutable","name":"result","nameLocation":"5722:6:0","nodeType":"VariableDeclaration","scope":269,"src":"5709:19:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":238,"name":"bytes","nodeType":"ElementaryTypeName","src":"5709:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":244,"initialValue":{"arguments":[{"id":242,"name":"callData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":228,"src":"5757:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":240,"name":"policyAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":222,"src":"5732:13:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":241,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5746:10:0","memberName":"staticcall","nodeType":"MemberAccess","src":"5732:24:0","typeDescriptions":{"typeIdentifier":"t_function_barestaticcall_view$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) view returns (bool,bytes memory)"}},"id":243,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5732:34:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"5706:60:0"},{"assignments":[246],"declarations":[{"constant":false,"id":246,"mutability":"mutable","name":"licenseId","nameLocation":"5792:9:0","nodeType":"VariableDeclaration","scope":269,"src":"5784:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":245,"name":"uint256","nodeType":"ElementaryTypeName","src":"5784:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":254,"initialValue":{"arguments":[{"id":249,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":239,"src":"5815:6:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":251,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5824:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":250,"name":"uint256","nodeType":"ElementaryTypeName","src":"5824:7:0","typeDescriptions":{}}}],"id":252,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"5823:9:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"expression":{"id":247,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"5804:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":248,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5808:6:0","memberName":"decode","nodeType":"MemberAccess","src":"5804:10:0","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":253,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5804:29:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5784:49:0"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":257,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":255,"name":"licenseId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246,"src":"5851:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":256,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5864:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5851:14:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":259,"nodeType":"IfStatement","src":"5847:28:0","trueBody":{"id":258,"nodeType":"Continue","src":"5867:8:0"}},{"expression":{"id":267,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":260,"name":"licenses","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":194,"src":"5911:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr","typeString":"struct AccessAgg.PolicyLicense memory[] memory"}},"id":262,"indexExpression":{"id":261,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5920:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5911:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_PolicyLicense_$29_memory_ptr","typeString":"struct AccessAgg.PolicyLicense memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":264,"name":"policyAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":222,"src":"5949:13:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":265,"name":"licenseId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246,"src":"5973:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":263,"name":"PolicyLicense","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29,"src":"5925:13:0","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_PolicyLicense_$29_storage_ptr_$","typeString":"type(struct AccessAgg.PolicyLicense storage pointer)"}},"id":266,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["5941:6:0","5964:7:0"],"names":["policy","license"],"nodeType":"FunctionCall","src":"5925:60:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PolicyLicense_$29_memory_ptr","typeString":"struct AccessAgg.PolicyLicense memory"}},"src":"5911:74:0","typeDescriptions":{"typeIdentifier":"t_struct$_PolicyLicense_$29_memory_ptr","typeString":"struct AccessAgg.PolicyLicense memory"}},"id":268,"nodeType":"ExpressionStatement","src":"5911:74:0"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":214,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":212,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5471:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":213,"name":"policiesLen","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":204,"src":"5475:11:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5471:15:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":270,"initializationExpression":{"assignments":[209],"declarations":[{"constant":false,"id":209,"mutability":"mutable","name":"i","nameLocation":"5464:1:0","nodeType":"VariableDeclaration","scope":270,"src":"5456:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":208,"name":"uint256","nodeType":"ElementaryTypeName","src":"5456:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":211,"initialValue":{"hexValue":"30","id":210,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5468:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5456:13:0"},"isSimpleCounterLoop":false,"loopExpression":{"expression":{"id":219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":215,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5488:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":216,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5492:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5494:12:0","memberName":"uncheckedInc","nodeType":"MemberAccess","referencedDeclaration":47949,"src":"5492:14:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":218,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5492:16:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5488:20:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":220,"nodeType":"ExpressionStatement","src":"5488:20:0"},"nodeType":"ForStatement","src":"5451:545:0"},{"expression":{"id":271,"name":"licenses","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":194,"src":"6013:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr","typeString":"struct AccessAgg.PolicyLicense memory[] memory"}},"functionReturnParameters":178,"id":272,"nodeType":"Return","src":"6006:15:0"}]},"documentation":{"id":168,"nodeType":"StructuredDocumentation","src":"4851:219:0","text":"@notice Retrieves active policies and their corresponding licenses for an account.\n @param account The address of the account to check.\n @param criteria Encoded criteria used to filter active policies."},"functionSelector":"d3f4c5af","implemented":true,"kind":"function","modifiers":[],"name":"getActivePoliciesLicenses","nameLocation":"5084:25:0","parameters":{"id":173,"nodeType":"ParameterList","parameters":[{"constant":false,"id":170,"mutability":"mutable","name":"account","nameLocation":"5127:7:0","nodeType":"VariableDeclaration","scope":274,"src":"5119:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":169,"name":"address","nodeType":"ElementaryTypeName","src":"5119:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":172,"mutability":"mutable","name":"criteria","nameLocation":"5157:8:0","nodeType":"VariableDeclaration","scope":274,"src":"5144:21:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":171,"name":"bytes","nodeType":"ElementaryTypeName","src":"5144:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"5109:62:0"},"returnParameters":{"id":178,"nodeType":"ParameterList","parameters":[{"constant":false,"id":177,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":274,"src":"5193:22:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_memory_ptr_$dyn_memory_ptr","typeString":"struct AccessAgg.PolicyLicense[]"},"typeName":{"baseType":{"id":175,"nodeType":"UserDefinedTypeName","pathNode":{"id":174,"name":"PolicyLicense","nameLocations":["5193:13:0"],"nodeType":"IdentifierPath","referencedDeclaration":29,"src":"5193:13:0"},"referencedDeclaration":29,"src":"5193:13:0","typeDescriptions":{"typeIdentifier":"t_struct$_PolicyLicense_$29_storage_ptr","typeString":"struct AccessAgg.PolicyLicense"}},"id":176,"nodeType":"ArrayTypeName","src":"5193:15:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_PolicyLicense_$29_storage_$dyn_storage_ptr","typeString":"struct AccessAgg.PolicyLicense[]"}},"visibility":"internal"}],"src":"5192:24:0"},"scope":285,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":284,"nodeType":"FunctionDefinition","src":"6332:84:0","nodes":[],"body":{"id":283,"nodeType":"Block","src":"6414:2:0","nodes":[],"statements":[]},"baseFunctions":[40549],"documentation":{"id":275,"nodeType":"StructuredDocumentation","src":"6034:293:0","text":"@notice Function that should revert when msg.sender is not authorized to upgrade the contract.\n @param newImplementation The address of the new implementation contract.\n @dev See https://docs.openzeppelin.com/contracts/4.x/api/proxy#UUPSUpgradeable-_authorizeUpgrade-address-"},"implemented":true,"kind":"function","modifiers":[{"id":281,"kind":"modifierInvocation","modifierName":{"id":280,"name":"onlyAdmin","nameLocations":["6404:9:0"],"nodeType":"IdentifierPath","referencedDeclaration":48500,"src":"6404:9:0"},"nodeType":"ModifierInvocation","src":"6404:9:0"}],"name":"_authorizeUpgrade","nameLocation":"6341:17:0","overrides":{"id":279,"nodeType":"OverrideSpecifier","overrides":[],"src":"6395:8:0"},"parameters":{"id":278,"nodeType":"ParameterList","parameters":[{"constant":false,"id":277,"mutability":"mutable","name":"newImplementation","nameLocation":"6367:17:0","nodeType":"VariableDeclaration","scope":284,"src":"6359:25:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":276,"name":"address","nodeType":"ElementaryTypeName","src":"6359:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6358:27:0"},"returnParameters":{"id":282,"nodeType":"ParameterList","parameters":[],"src":"6414:0:0"},"scope":285,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":15,"name":"Initializable","nameLocations":["823:13:0"],"nodeType":"IdentifierPath","referencedDeclaration":40413,"src":"823:13:0"},"id":16,"nodeType":"InheritanceSpecifier","src":"823:13:0"},{"baseName":{"id":17,"name":"UUPSUpgradeable","nameLocations":["838:15:0"],"nodeType":"IdentifierPath","referencedDeclaration":40595,"src":"838:15:0"},"id":18,"nodeType":"InheritanceSpecifier","src":"838:15:0"},{"baseName":{"id":19,"name":"AccessControlledUpgradeable","nameLocations":["855:27:0"],"nodeType":"IdentifierPath","referencedDeclaration":48582,"src":"855:27:0"},"id":20,"nodeType":"InheritanceSpecifier","src":"855:27:0"}],"canonicalName":"AccessAgg","contractDependencies":[],"contractKind":"contract","documentation":{"id":14,"nodeType":"StructuredDocumentation","src":"610:191:0","text":"@title Access Aggregator\n @notice This contract aggregates access control logic for licenses and policies.\n @dev Uses UUPS upgradeable proxy pattern and centralized access control."},"fullyImplemented":true,"linearizedBaseContracts":[285,48582,40159,40939,40641,40595,41508,40413],"name":"AccessAgg","nameLocation":"810:9:0","scope":286,"usedErrors":[40176,40179,40440,40445,40910,40916,40920,41566,41579,42530,42792,48482],"usedEvents":[40184,40906,41481]}],"license":"MIT"},"id":0}