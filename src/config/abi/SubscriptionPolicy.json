{"abi":[{"type":"constructor","inputs":[{"name":"rightPolicyManagerAddress","type":"address","internalType":"address"},{"name":"ownershipAddress","type":"address","internalType":"address"},{"name":"providerAddress","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"ASSET_OWNERSHIP","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IAssetOwnership"}],"stateMutability":"view"},{"type":"function","name":"ATTESTATION_PROVIDER","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IAttestationProvider"}],"stateMutability":"view"},{"type":"function","name":"RIGHTS_POLICY_MANAGER","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IRightsPolicyManager"}],"stateMutability":"view"},{"type":"function","name":"attestations","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"description","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"pure"},{"type":"function","name":"enforce","inputs":[{"name":"holder","type":"address","internalType":"address"},{"name":"agreement","type":"tuple","internalType":"struct T.Agreement","components":[{"name":"active","type":"bool","internalType":"bool"},{"name":"broker","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"address"},{"name":"initiator","type":"address","internalType":"address"},{"name":"createdAt","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"fees","type":"uint256","internalType":"uint256"},{"name":"available","type":"uint256","internalType":"uint256"},{"name":"parties","type":"address[]","internalType":"address[]"},{"name":"payload","type":"bytes","internalType":"bytes"}]}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"getAttestation","inputs":[{"name":"recipient","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getAttestationProvider","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getHolder","inputs":[{"name":"assetId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"initialize","inputs":[{"name":"holder","type":"address","internalType":"address"},{"name":"init","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"isAccessAllowed","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isCompliant","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isInitialized","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"name","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"pure"},{"type":"function","name":"resolveTerms","inputs":[{"name":"holder","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"tuple","internalType":"struct T.Terms","components":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"currency","type":"address","internalType":"address"},{"name":"rateBasis","type":"uint8","internalType":"enum T.RateBasis"},{"name":"uri","type":"string","internalType":"string"}]}],"stateMutability":"view"},{"type":"function","name":"resolveTerms","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct T.Terms","components":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"currency","type":"address","internalType":"address"},{"name":"rateBasis","type":"uint8","internalType":"enum T.RateBasis"},{"name":"uri","type":"string","internalType":"string"}]}],"stateMutability":"view"},{"type":"function","name":"supportsInterface","inputs":[{"name":"interfaceId","type":"bytes4","internalType":"bytes4"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"event","name":"AccessGranted","inputs":[{"name":"holder","type":"address","indexed":true,"internalType":"address"},{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"attestationId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"InvalidAssetHolder","inputs":[]},{"type":"error","name":"InvalidAttestation","inputs":[]},{"type":"error","name":"InvalidEnforcement","inputs":[{"name":"reason","type":"string","internalType":"string"}]},{"type":"error","name":"InvalidInitialization","inputs":[{"name":"reason","type":"string","internalType":"string"}]},{"type":"error","name":"InvalidNotSupportedOperation","inputs":[]},{"type":"error","name":"InvalidPolicyInitialization","inputs":[]},{"type":"error","name":"InvalidUnauthorizedCall","inputs":[{"name":"reason","type":"string","internalType":"string"}]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]}],"bytecode":{"object":"0x60e0346100c857601f6116be38819003918201601f19168301916001600160401b038311848410176100cc578084926060946040528339810103126100c857610047816100e0565b61005f6040610058602085016100e0565b93016100e0565b60015f556001600160a01b0390811660805290811660a0521660c0526040516115c990816100f58239608051818181610a9001528181610d8e01526113ce015260a05181818161019c015281816103800152610620015260c05181818161014c015261021c0152f35b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b03821682036100c85756fe6080806040526004361015610012575f80fd5b5f3560e01c90816301ffc9a71461118e5750806306fdde031461112f57806319ad44fc14610d6257806320357048146100d7578063392e53cd1461110d5780633c6a5ee314610fbc5780637284e41614610dfd578063a200e5d014610ddf578063ac3e8fb014610db2578063b1b87ffb14610d62578063c43e04c0146105c9578063d1f57894146102e7578063dccc792f146102a5578063e8a96b46146101c0578063f1bdc45214610170578063f520d4eb146101205763f9b71797146100d7575f80fd5b3461011c57602060031936011261011c5773ffffffffffffffffffffffffffffffffffffffff61010561126f565b165f526002602052602060405f2054604051908152f35b5f80fd5b3461011c575f60031936011261011c57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b3461011c575f60031936011261011c57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b3461011c57602060031936011261011c576040517f6352211e000000000000000000000000000000000000000000000000000000008152600435600482015260208160248173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa801561029a576020915f9161026d575b5073ffffffffffffffffffffffffffffffffffffffff60405191168152f35b61028d9150823d8411610293575b61028581836112eb565b8101906114dd565b8261024e565b503d61027b565b6040513d5f823e3d90fd5b3461011c57602060031936011261011c576102be61132c565b507f0ea7889c000000000000000000000000000000000000000000000000000000005f5260045ffd5b3461011c57604060031936011261011c5761030061126f565b60243567ffffffffffffffff811161011c573660238201121561011c57806004013567ffffffffffffffff811161011c57810136602482011161011c576040517f8ae2ba5900000000000000000000000000000000000000000000000000000000815260208160048173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa801561029a5773ffffffffffffffffffffffffffffffffffffffff915f916105aa575b5016330361052657600180547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001690556040908290031261011c57604460248201359101359173ffffffffffffffffffffffffffffffffffffffff831680930361011c5781156104c85773ffffffffffffffffffffffffffffffffffffffff918260019260405192610456846112b3565b835260208301958652165f52600360205260405f2090518155019151167fffffffffffffffffffffffff000000000000000000000000000000000000000082541617905560017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00815416176001555f80f35b60646040517f8e53d58600000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f496e76616c696420737562736372697074696f6e2070726963652e00000000006044820152fd5b60846040517f2ce89adb00000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f6e6c792072696768747320706f6c69637920617574686f72697a657220616c60448201527f6c6f7765642e00000000000000000000000000000000000000000000000000006064820152fd5b6105c3915060203d6020116102935761028581836112eb565b856103c5565b3461011c57604060031936011261011c576105e261126f565b6024359067ffffffffffffffff821161011c578160040190610140600319843603011261011c5773ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000163303610cde5760ff6001541615610cb65773ffffffffffffffffffffffffffffffffffffffff1691825f52600360205260405f2073ffffffffffffffffffffffffffffffffffffffff600160405192610698846112b3565b80548452015416602082015260a4820135926101048301916106f06106de6106d66106ce6106c6878761143f565b905089611493565b845190611493565b9251836114ca565b6106e8858561143f565b9190506114ca565b8510610c325762015180810290808204620151801490151715610c0557420191824211610c055760405191610140830183811067ffffffffffffffff821117610bc05760405235801515810361011c57825261074e60248501611292565b906020830191825261076260448601611292565b906040840191825261077660648701611292565b966060850197885260808501906084880135825260a0860190815260c086019160c4890135835260e087019360e48a013585523567ffffffffffffffff811161011c578901983660238b01121561011c5760048a01359967ffffffffffffffff8b11610bc0578a60051b60206004816040519e8f906107f7838701836112eb565b81520192840101019136831161011c57602401905b828210610bed575050506101008801998a526101248101359067ffffffffffffffff821161011c5701993660238c01121561011c5760048b01359567ffffffffffffffff8711610bc0576040519661088c601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016602001896112eb565b8088523660248e8301011161011c578060248f9e9f9b9a999897969594939f01602089013786016020015f90526101208801958652805173ffffffffffffffffffffffffffffffffffffffff169c8b516040519e8f9b60208d015260408c01523060608c015260808b0160a0905260c08b0161090791611509565b978a89037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe00160a08c015261014089019951151589525173ffffffffffffffffffffffffffffffffffffffff1660208901525173ffffffffffffffffffffffffffffffffffffffff1660408801525173ffffffffffffffffffffffffffffffffffffffff1660608701525160808601525160a08501525160c08401525160e0830152855192610100830161014090528351809152610160830193602001905f5b818110610b9157505050926109f160209593610a1d93610a5f96519061012081840391015261122c565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081018852876112eb565b610a7684519160405197889485947f8ca86cad000000000000000000000000000000000000000000000000000000008652606060048701526064860190611509565b91602485015260031984830301604485015261122c565b03815f73ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165af192831561029a575f93610b5d575b5051908151915f5b838110610ada57602085604051908152f35b8073ffffffffffffffffffffffffffffffffffffffff610afc60019385611552565b51165f5260026020528560405f205573ffffffffffffffffffffffffffffffffffffffff610b2a8285611552565b5116847f65d0cc1e52d49938ca4ad9f423c79c1b84d914b9a683fbc5d3f93ac3cc5635f560206040518a8152a301610ac8565b9092506020813d602011610b89575b81610b79602093836112eb565b8101031261011c57519183610ac0565b3d9150610b6c565b825173ffffffffffffffffffffffffffffffffffffffff1686528a9650602095860195909201916001016109c7565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b60208091610bfa84611292565b81520191019061080c565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b60846040517f66360cb000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f496e73756666696369656e742066756e647320666f722073756273637269707460448201527f696f6e00000000000000000000000000000000000000000000000000000000006064820152fd5b7f83403c5c000000000000000000000000000000000000000000000000000000005f5260045ffd5b60846040517f2ce89adb00000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f4f6e6c792072696768747320706f6c696379206d616e6167657220616c6c6f7760448201527f65642e00000000000000000000000000000000000000000000000000000000006064820152fd5b3461011c575f60031936011261011c57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b3461011c57604060031936011261011c576020610dd5610dd061126f565b611350565b6040519015158152f35b3461011c57602060031936011261011c576020610dd5610dd061126f565b3461011c575f60031936011261011c57610fb8610160610e2060405191826112eb565b61012781527f5468697320706f6c69637920666f6c6c6f77732061207375627363726970746960208201527f6f6e206d6f64656c2077697468206461696c792070726963696e672c20616c6c60408201527f6f77696e6720757365727320746f20616363657373206120636f6e74656e742060608201527f686f6c646572277320636174616c6f6720627920706179696e6720612064616960808201527f6c792066656520666f7220612063686f73656e206475726174696f6e2e0a0a4b60a08201527f65792066656174757265733a0a312920466c657869626c65207375627363726960c08201527f7074696f6e20706572696f64732073657420627920746865206173736574206860e08201527f6f6c6465722e0a322920496e7374616e742061636365737320746f20616c6c206101008201527f636f6e74656e7420647572696e672074686520737562736372697074696f6e206101208201527f706572696f642e0000000000000000000000000000000000000000000000000061014082015260405191829160208352602083019061122c565b0390f35b3461011c57602060031936011261011c5773ffffffffffffffffffffffffffffffffffffffff610fea61126f565b610ff261132c565b50165f52600360205260405f20602060405161100d816112b3565b73ffffffffffffffffffffffffffffffffffffffff600184549485845201541691829101526040519161103f836112cf565b825260208201908152604082016002815273ffffffffffffffffffffffffffffffffffffffff604051926110746040856112eb565b600784527f697066733a2f2f000000000000000000000000000000000000000000000000006020850152606085019384526040519460208652516020860152511660408401525160048110156110e0578291610fb89160608401525160808084015260a083019061122c565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b3461011c575f60031936011261011c57602060ff600154166040519015158152f35b3461011c575f60031936011261011c57610fb86040516111506040826112eb565b601281527f537562736372697074696f6e506f6c6963790000000000000000000000000000602082015260405191829160208352602083019061122c565b3461011c57602060031936011261011c57600435907fffffffff00000000000000000000000000000000000000000000000000000000821680920361011c57817f652586510000000000000000000000000000000000000000000000000000000060209314908115611202575b5015158152f35b7f01ffc9a700000000000000000000000000000000000000000000000000000000915014836111fb565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f602080948051918291828752018686015e5f8582860101520116010190565b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361011c57565b359073ffffffffffffffffffffffffffffffffffffffff8216820361011c57565b6040810190811067ffffffffffffffff821117610bc057604052565b6080810190811067ffffffffffffffff821117610bc057604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff821117610bc057604052565b60405190611339826112cf565b606080835f81525f60208201525f60408201520152565b73ffffffffffffffffffffffffffffffffffffffff16805f52600260205260405f205490811561143957604051917f993538460000000000000000000000000000000000000000000000000000000083526004830152306024830152604482015260208160648173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa90811561029a575f91611401575090565b90506020813d602011611431575b8161141c602093836112eb565b8101031261011c5751801515810361011c5790565b3d915061140f565b50505f90565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561011c570180359067ffffffffffffffff821161011c57602001918160051b3603831361011c57565b811561149d570490565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b81810292918115918404141715610c0557565b9081602091031261011c575173ffffffffffffffffffffffffffffffffffffffff8116810361011c5790565b90602080835192838152019201905f5b8181106115265750505090565b825173ffffffffffffffffffffffffffffffffffffffff16845260209384019390920191600101611519565b80518210156115665760209160051b010190565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffdfea26469706673582212200eb9d732796e2fefbc1213570a6f02b93647710d7054a6ae0463a40445debbeb64736f6c634300081a0033","sourceMap":"270:3383:52:-:0;;;;;;;;;;;;;-1:-1:-1;;270:3383:52;;;;-1:-1:-1;;;;;270:3383:52;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;:::i;:::-;1857:1:161;-1:-1:-1;1857:1:161;-1:-1:-1;;;;;270:3383:52;;;4650:60:50;;270:3383:52;;;;4720:65:50;270:3383:52;4795:49:50;;270:3383:52;;;;;;;;4650:60:50;270:3383:52;;;;;;;;;;;;;;;4720:65:50;270:3383:52;;;;;;;;;;;;;;;4795:49:50;270:3383:52;;;;;;;;;;;;-1:-1:-1;270:3383:52;;;;;;-1:-1:-1;270:3383:52;;;;;-1:-1:-1;270:3383:52;;;;-1:-1:-1;;;;;270:3383:52;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x6080806040526004361015610012575f80fd5b5f3560e01c90816301ffc9a71461118e5750806306fdde031461112f57806319ad44fc14610d6257806320357048146100d7578063392e53cd1461110d5780633c6a5ee314610fbc5780637284e41614610dfd578063a200e5d014610ddf578063ac3e8fb014610db2578063b1b87ffb14610d62578063c43e04c0146105c9578063d1f57894146102e7578063dccc792f146102a5578063e8a96b46146101c0578063f1bdc45214610170578063f520d4eb146101205763f9b71797146100d7575f80fd5b3461011c57602060031936011261011c5773ffffffffffffffffffffffffffffffffffffffff61010561126f565b165f526002602052602060405f2054604051908152f35b5f80fd5b3461011c575f60031936011261011c57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b3461011c575f60031936011261011c57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b3461011c57602060031936011261011c576040517f6352211e000000000000000000000000000000000000000000000000000000008152600435600482015260208160248173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa801561029a576020915f9161026d575b5073ffffffffffffffffffffffffffffffffffffffff60405191168152f35b61028d9150823d8411610293575b61028581836112eb565b8101906114dd565b8261024e565b503d61027b565b6040513d5f823e3d90fd5b3461011c57602060031936011261011c576102be61132c565b507f0ea7889c000000000000000000000000000000000000000000000000000000005f5260045ffd5b3461011c57604060031936011261011c5761030061126f565b60243567ffffffffffffffff811161011c573660238201121561011c57806004013567ffffffffffffffff811161011c57810136602482011161011c576040517f8ae2ba5900000000000000000000000000000000000000000000000000000000815260208160048173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa801561029a5773ffffffffffffffffffffffffffffffffffffffff915f916105aa575b5016330361052657600180547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001690556040908290031261011c57604460248201359101359173ffffffffffffffffffffffffffffffffffffffff831680930361011c5781156104c85773ffffffffffffffffffffffffffffffffffffffff918260019260405192610456846112b3565b835260208301958652165f52600360205260405f2090518155019151167fffffffffffffffffffffffff000000000000000000000000000000000000000082541617905560017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00815416176001555f80f35b60646040517f8e53d58600000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f496e76616c696420737562736372697074696f6e2070726963652e00000000006044820152fd5b60846040517f2ce89adb00000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f6e6c792072696768747320706f6c69637920617574686f72697a657220616c60448201527f6c6f7765642e00000000000000000000000000000000000000000000000000006064820152fd5b6105c3915060203d6020116102935761028581836112eb565b856103c5565b3461011c57604060031936011261011c576105e261126f565b6024359067ffffffffffffffff821161011c578160040190610140600319843603011261011c5773ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000163303610cde5760ff6001541615610cb65773ffffffffffffffffffffffffffffffffffffffff1691825f52600360205260405f2073ffffffffffffffffffffffffffffffffffffffff600160405192610698846112b3565b80548452015416602082015260a4820135926101048301916106f06106de6106d66106ce6106c6878761143f565b905089611493565b845190611493565b9251836114ca565b6106e8858561143f565b9190506114ca565b8510610c325762015180810290808204620151801490151715610c0557420191824211610c055760405191610140830183811067ffffffffffffffff821117610bc05760405235801515810361011c57825261074e60248501611292565b906020830191825261076260448601611292565b906040840191825261077660648701611292565b966060850197885260808501906084880135825260a0860190815260c086019160c4890135835260e087019360e48a013585523567ffffffffffffffff811161011c578901983660238b01121561011c5760048a01359967ffffffffffffffff8b11610bc0578a60051b60206004816040519e8f906107f7838701836112eb565b81520192840101019136831161011c57602401905b828210610bed575050506101008801998a526101248101359067ffffffffffffffff821161011c5701993660238c01121561011c5760048b01359567ffffffffffffffff8711610bc0576040519661088c601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016602001896112eb565b8088523660248e8301011161011c578060248f9e9f9b9a999897969594939f01602089013786016020015f90526101208801958652805173ffffffffffffffffffffffffffffffffffffffff169c8b516040519e8f9b60208d015260408c01523060608c015260808b0160a0905260c08b0161090791611509565b978a89037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe00160a08c015261014089019951151589525173ffffffffffffffffffffffffffffffffffffffff1660208901525173ffffffffffffffffffffffffffffffffffffffff1660408801525173ffffffffffffffffffffffffffffffffffffffff1660608701525160808601525160a08501525160c08401525160e0830152855192610100830161014090528351809152610160830193602001905f5b818110610b9157505050926109f160209593610a1d93610a5f96519061012081840391015261122c565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081018852876112eb565b610a7684519160405197889485947f8ca86cad000000000000000000000000000000000000000000000000000000008652606060048701526064860190611509565b91602485015260031984830301604485015261122c565b03815f73ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165af192831561029a575f93610b5d575b5051908151915f5b838110610ada57602085604051908152f35b8073ffffffffffffffffffffffffffffffffffffffff610afc60019385611552565b51165f5260026020528560405f205573ffffffffffffffffffffffffffffffffffffffff610b2a8285611552565b5116847f65d0cc1e52d49938ca4ad9f423c79c1b84d914b9a683fbc5d3f93ac3cc5635f560206040518a8152a301610ac8565b9092506020813d602011610b89575b81610b79602093836112eb565b8101031261011c57519183610ac0565b3d9150610b6c565b825173ffffffffffffffffffffffffffffffffffffffff1686528a9650602095860195909201916001016109c7565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b60208091610bfa84611292565b81520191019061080c565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b60846040517f66360cb000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f496e73756666696369656e742066756e647320666f722073756273637269707460448201527f696f6e00000000000000000000000000000000000000000000000000000000006064820152fd5b7f83403c5c000000000000000000000000000000000000000000000000000000005f5260045ffd5b60846040517f2ce89adb00000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f4f6e6c792072696768747320706f6c696379206d616e6167657220616c6c6f7760448201527f65642e00000000000000000000000000000000000000000000000000000000006064820152fd5b3461011c575f60031936011261011c57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b3461011c57604060031936011261011c576020610dd5610dd061126f565b611350565b6040519015158152f35b3461011c57602060031936011261011c576020610dd5610dd061126f565b3461011c575f60031936011261011c57610fb8610160610e2060405191826112eb565b61012781527f5468697320706f6c69637920666f6c6c6f77732061207375627363726970746960208201527f6f6e206d6f64656c2077697468206461696c792070726963696e672c20616c6c60408201527f6f77696e6720757365727320746f20616363657373206120636f6e74656e742060608201527f686f6c646572277320636174616c6f6720627920706179696e6720612064616960808201527f6c792066656520666f7220612063686f73656e206475726174696f6e2e0a0a4b60a08201527f65792066656174757265733a0a312920466c657869626c65207375627363726960c08201527f7074696f6e20706572696f64732073657420627920746865206173736574206860e08201527f6f6c6465722e0a322920496e7374616e742061636365737320746f20616c6c206101008201527f636f6e74656e7420647572696e672074686520737562736372697074696f6e206101208201527f706572696f642e0000000000000000000000000000000000000000000000000061014082015260405191829160208352602083019061122c565b0390f35b3461011c57602060031936011261011c5773ffffffffffffffffffffffffffffffffffffffff610fea61126f565b610ff261132c565b50165f52600360205260405f20602060405161100d816112b3565b73ffffffffffffffffffffffffffffffffffffffff600184549485845201541691829101526040519161103f836112cf565b825260208201908152604082016002815273ffffffffffffffffffffffffffffffffffffffff604051926110746040856112eb565b600784527f697066733a2f2f000000000000000000000000000000000000000000000000006020850152606085019384526040519460208652516020860152511660408401525160048110156110e0578291610fb89160608401525160808084015260a083019061122c565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b3461011c575f60031936011261011c57602060ff600154166040519015158152f35b3461011c575f60031936011261011c57610fb86040516111506040826112eb565b601281527f537562736372697074696f6e506f6c6963790000000000000000000000000000602082015260405191829160208352602083019061122c565b3461011c57602060031936011261011c57600435907fffffffff00000000000000000000000000000000000000000000000000000000821680920361011c57817f652586510000000000000000000000000000000000000000000000000000000060209314908115611202575b5015158152f35b7f01ffc9a700000000000000000000000000000000000000000000000000000000915014836111fb565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f602080948051918291828752018686015e5f8582860101520116010190565b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361011c57565b359073ffffffffffffffffffffffffffffffffffffffff8216820361011c57565b6040810190811067ffffffffffffffff821117610bc057604052565b6080810190811067ffffffffffffffff821117610bc057604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff821117610bc057604052565b60405190611339826112cf565b606080835f81525f60208201525f60408201520152565b73ffffffffffffffffffffffffffffffffffffffff16805f52600260205260405f205490811561143957604051917f993538460000000000000000000000000000000000000000000000000000000083526004830152306024830152604482015260208160648173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165afa90811561029a575f91611401575090565b90506020813d602011611431575b8161141c602093836112eb565b8101031261011c5751801515810361011c5790565b3d915061140f565b50505f90565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561011c570180359067ffffffffffffffff821161011c57602001918160051b3603831361011c57565b811561149d570490565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b81810292918115918404141715610c0557565b9081602091031261011c575173ffffffffffffffffffffffffffffffffffffffff8116810361011c5790565b90602080835192838152019201905f5b8181106115265750505090565b825173ffffffffffffffffffffffffffffffffffffffff16845260209384019390920191600101611519565b80518210156115665760209160051b010190565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffdfea26469706673582212200eb9d732796e2fefbc1213570a6f02b93647710d7054a6ae0463a40445debbeb64736f6c634300081a0033","sourceMap":"270:3383:52:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;;:::i;:::-;;;;5663:12:50;270:3383:52;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;;;1117:48:50;270:3383:52;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;;;1052:59:50;270:3383:52;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;;8065:32:50;;270:3383:52;;;8065:32:50;;270:3383:52;;8065:15:50;:32;:15;270:3383:52;8065:15:50;270:3383:52;8065:32:50;;;;;;270:3383:52;8065:32:50;270:3383:52;8065:32:50;;;270:3383:52;;;;;;;;;;8065:32:50;;;;;;;;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;270:3383:52;;;;;;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;:::i;:::-;;6457:30:50;270:3383:52;6457:30:50;270:3383:52;;6457:30:50;270:3383:52;;;;;-1:-1:-1;;270:3383:52;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3397:43:50;;270:3383:52;3397:21:50;270:3383:52;3397:21:50;270:3383:52;3397:21:50;270:3383:52;3397:43:50;;;;;;270:3383:52;3397:43:50;270:3383:52;3397:43:50;;;270:3383:52;;;3375:10:50;:66;3371:169;;3928:20;270:3383:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1731:10;;1727:75;;270:3383;;;3928:20:50;270:3383:52;;;;;;;:::i;:::-;;;;1913:24;;270:3383;;;;;;1893:9;270:3383;;;;;;;;;;;;;;;;;;;;3928:20:50;270:3383:52;;;;;3928:20:50;270:3383:52;;;;1727:75;1750:52;270:3383;;1750:52;;;270:3383;;1750:52;;270:3383;;;;;;;;;;;1750:52;3371:169:50;3464:65;270:3383:52;;3464:65:50;;;270:3383:52;;3464:65:50;;270:3383:52;;;;;;;;;;;;;;;;3464:65:50;3397:43;;;;270:3383:52;3397:43:50;270:3383:52;3397:43:50;;;;;;;:::i;:::-;;;;270:3383:52;;;;;-1:-1:-1;;270:3383:52;;;;;;;:::i;:::-;;;;;;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;;3108:21:50;270:3383:52;3086:10:50;:44;3082:144;;270:3383:52;4452:12:50;270:3383:52;;4451:13:50;4447:80;;270:3383:52;;;;;;2355:9;270:3383;;;;;;4452:12:50;270:3383:52;;;;;;:::i;:::-;;;;;;;;;;;;2485:16;;;270:3383;2504:17;;;;;2788:67;2789:38;2617:35;2485:43;2504:17;;;;:::i;:::-;2485:43;;;;:::i;:::-;270:3383;;2617:35;;:::i;:::-;270:3383;;2789:38;;:::i;:::-;2831:17;;;;:::i;:::-;2788:67;;;;:::i;:::-;2869:24;;2865:94;;3098:6;270:3383;;;;;;3098:6;270:3383;;;;;;;3056:15;270:3383;3056:15;;;270:3383;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;2485:16;270:3383;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;2504:17;270:3383;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8678:17:50;;;270:3383:52;;8623:84:50;;;270:3383:52;8623:84:50;;270:3383:52;;;;;8671:4:50;270:3383:52;;;;;;;2485:16;270:3383;;;;;;;;:::i;:::-;;;;;;;2485:16;270:3383;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2485:16;270:3383;;;;;;;;;;;;;;;;2504:17;270:3383;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8623:84:50;270:3383:52;;;;;;;;;;;;;:::i;:::-;8623:84:50;270:3383:52;8623:84:50;;;;;;:::i;:::-;270:3383:52;8769:17:50;;270:3383:52;;;8741:62:50;;;;;270:3383:52;8741:62:50;;270:3383:52;;8741:62:50;;270:3383:52;;;;;;:::i;:::-;;;;;;-1:-1:-1;;270:3383:52;;;;;;;;;:::i;:::-;8741:62:50;:20;270:3383:52;;8741:20:50;270:3383:52;8741:62:50;;;;;;;270:3383:52;8741:62:50;;;270:3383:52;8860:17:50;;270:3383:52;;;9278:13:50;270:3383:52;9293:14:50;;;;;;270:3383:52;;;;;;;;9309:20:50;9358:10;270:3383:52;9358:10:50;4452:12;9358:10;;;:::i;:::-;270:3383:52;;;;9345:12:50;270:3383:52;;;;;;;;9426:10:50;;;;:::i;:::-;270:3383:52;;;9404:48:50;270:3383:52;;;;;;9404:48:50;270:3383:52;9278:13:50;;8741:62;;;;270:3383:52;8741:62:50;;270:3383:52;8741:62:50;;;;;;270:3383:52;8741:62:50;;;:::i;:::-;;;270:3383:52;;;;;8741:62:50;;;;;;;-1:-1:-1;8741:62:50;;270:3383:52;;;;;;;;;-1:-1:-1;270:3383:52;;;;;;;;;4452:12:50;270:3383:52;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;2865:94;2902:57;270:3383;;2902:57;;;270:3383;;2902:57;;270:3383;;;;;;;;;;;;;;;;2902:57;4447:80:50;4487:29;270:3383:52;4487:29:50;270:3383:52;;4487:29:50;3082:144;3153:62;270:3383:52;;3153:62:50;;;270:3383:52;;3153:62:50;;270:3383:52;;;;;;;;;;;;;;;;3153:62:50;270:3383:52;;;;;-1:-1:-1;;270:3383:52;;;;;;;;;7193:20:50;270:3383:52;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;5379:20:50;270:3383:52;;:::i;:::-;5379:20:50;:::i;:::-;270:3383:52;;;;;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;;;:::i;:::-;;;;;-1:-1:-1;;270:3383:52;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;;:::i;:::-;;;:::i;:::-;;;;;3506:9;270:3383;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;3576:68;;270:3383;;;;3576:68;;3615:17;270:3383;;;;;;;;;;:::i;:::-;;;;;;;;;3576:68;;;270:3383;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3576:68;270:3383;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;4989:12:50;270:3383:52;;;;;;;;;;;;;;;-1:-1:-1;;270:3383:52;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;-1:-1:-1;;270:3383:52;;;;;;;;;;;;;;;;6872:40:50;6887:25;270:3383:52;6872:40:50;;:80;;;;;270:3383:52;;;;;;;6872:80:50;877:25:170;862:40;;;6872:80:50;;;270:3383:52;;;;;;;;;;;;;;;;;;;;-1:-1:-1;270:3383:52;;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;:::i;:::-;;;;-1:-1:-1;270:3383:52;;-1:-1:-1;270:3383:52;;;;-1:-1:-1;270:3383:52;;;;;;:::o;7483:354:50:-;270:3383:52;;;;;7582:12:50;270:3383:52;;;;;;7688:18:50;;;7684:36;;270:3383:52;;7764:66:50;270:3383:52;7764:66:50;;;;;270:3383:52;7815:4:50;270:3383:52;;;;;;;;;7764:20:50;:66;:20;270:3383:52;7764:20:50;270:3383:52;7764:66:50;;;;;;;270:3383:52;7764:66:50;;;7757:73;7483:354;:::o;7764:66::-;;;270:3383:52;7764:66:50;;270:3383:52;7764:66:50;;;;;;270:3383:52;7764:66:50;;;:::i;:::-;;;270:3383:52;;;;;;;;;;;;7483:354:50;:::o;7764:66::-;;;-1:-1:-1;7764:66:50;;7684:36;7708:12;;270:3383:52;7708:12:50;:::o;270:3383:52:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;-1:-1:-1;270:3383:52;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;","linkReferences":{},"immutableReferences":{"3728":[{"start":2704,"length":32},{"start":3470,"length":32},{"start":5070,"length":32}],"3731":[{"start":412,"length":32},{"start":896,"length":32},{"start":1568,"length":32}],"3734":[{"start":332,"length":32},{"start":540,"length":32}]}},"methodIdentifiers":{"ASSET_OWNERSHIP()":"f520d4eb","ATTESTATION_PROVIDER()":"19ad44fc","RIGHTS_POLICY_MANAGER()":"f1bdc452","attestations(address)":"20357048","description()":"7284e416","enforce(address,(bool,address,address,address,uint256,uint256,uint256,uint256,address[],bytes))":"c43e04c0","getAttestation(address)":"f9b71797","getAttestationProvider()":"b1b87ffb","getHolder(uint256)":"e8a96b46","initialize(address,bytes)":"d1f57894","isAccessAllowed(address,uint256)":"ac3e8fb0","isCompliant(address)":"a200e5d0","isInitialized()":"392e53cd","name()":"06fdde03","resolveTerms(address)":"3c6a5ee3","resolveTerms(uint256)":"dccc792f","supportsInterface(bytes4)":"01ffc9a7"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"rightPolicyManagerAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"ownershipAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"providerAddress\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidAssetHolder\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidAttestation\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"InvalidEnforcement\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"InvalidInitialization\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidNotSupportedOperation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidPolicyInitialization\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"InvalidUnauthorizedCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"attestationId\",\"type\":\"uint256\"}],\"name\":\"AccessGranted\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"ASSET_OWNERSHIP\",\"outputs\":[{\"internalType\":\"contract IAssetOwnership\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ATTESTATION_PROVIDER\",\"outputs\":[{\"internalType\":\"contract IAttestationProvider\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"RIGHTS_POLICY_MANAGER\",\"outputs\":[{\"internalType\":\"contract IRightsPolicyManager\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"attestations\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"bool\",\"name\":\"active\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"broker\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"initiator\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"createdAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fees\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"available\",\"type\":\"uint256\"},{\"internalType\":\"address[]\",\"name\":\"parties\",\"type\":\"address[]\"},{\"internalType\":\"bytes\",\"name\":\"payload\",\"type\":\"bytes\"}],\"internalType\":\"struct T.Agreement\",\"name\":\"agreement\",\"type\":\"tuple\"}],\"name\":\"enforce\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"getAttestation\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAttestationProvider\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"getHolder\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"init\",\"type\":\"bytes\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"isAccessAllowed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isCompliant\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isInitialized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"}],\"name\":\"resolveTerms\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"enum T.RateBasis\",\"name\":\"rateBasis\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"uri\",\"type\":\"string\"}],\"internalType\":\"struct T.Terms\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"resolveTerms\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"enum T.RateBasis\",\"name\":\"rateBasis\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"uri\",\"type\":\"string\"}],\"internalType\":\"struct T.Terms\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"InvalidAssetHolder()\":[{\"details\":\"Thrown when an attempt is made to access content without proper authorization. This error is used to prevent unauthorized access to content protected by policies or rights.\"}],\"InvalidAttestation()\":[{\"details\":\"Thrown when there is an issue with the attestation, such as when an attestation is missing or invalid.\"}],\"InvalidEnforcement(string)\":[{\"details\":\"This error is thrown when the policy enforcement process fails.\",\"params\":{\"reason\":\"A descriptive message providing details about the enforcement failure.\"}}],\"InvalidInitialization(string)\":[{\"details\":\"This error is thrown when there is an issue with the initial setup or configuration.\"}],\"InvalidPolicyInitialization()\":[{\"details\":\"Thrown when attempting to initialize a policy for unregistered or invalid content.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}]},\"events\":{\"AccessGranted(address,address,uint256)\":{\"params\":{\"account\":\"The address of the user whose access or compliance is being enforced.\",\"attestationId\":\"The unique identifier of the attestation that confirms compliance or access.\",\"holder\":\"The address of the rights holder managing the asset or access.\"}}},\"kind\":\"dev\",\"methods\":{\"enforce(address,(bool,address,address,address,uint256,uint256,uint256,uint256,address[],bytes))\":{\"details\":\"Rights Policies Manager contract should be the only one allowed to call this method.\",\"params\":{\"agreement\":\"An object containing the terms agreed upon between the asset holder and the user.\",\"holder\":\"The rights holder whose authorization is required for accessing the asset.\"}},\"getAttestation(address)\":{\"params\":{\"recipient\":\"The address of the account involved in the attestation.\"}},\"getAttestationProvider()\":{\"returns\":{\"_0\":\"The address of the provider associated with the policy.\"}},\"getHolder(uint256)\":{\"params\":{\"assetId\":\"the asset ID to retrieve the holder.\"}},\"initialize(address,bytes)\":{\"details\":\"Only the Rights Policies Authorizer contract has permission to call this function.\",\"params\":{\"holder\":\"The address of the holder for whom the policy is being initialized.\",\"init\":\"Initialization data required to configure the policy.\"}},\"isAccessAllowed(address,uint256)\":{\"details\":\"By default, this function only checks if the account complies with attestation requirements.\"},\"isCompliant(address)\":{\"details\":\"The function checks if the provided account complies with the attestation.\",\"params\":{\"account\":\"The address of the user whose access is being verified.\"}},\"resolveTerms(uint256)\":{\"details\":\"This function allows for querying policy terms based on the unique content identifier.\",\"returns\":{\"_0\":\"A struct containing the terms applicable to the specified content ID.\"}},\"supportsInterface(bytes4)\":{\"params\":{\"interfaceId\":\"The bytes4 identifier of the interface to check for support.\"},\"returns\":{\"_0\":\"A boolean indicating whether the interface ID is supported (true) or not (false).\"}}},\"title\":\"SubscriptionPolicy\",\"version\":1},\"userdoc\":{\"errors\":{\"InvalidUnauthorizedCall(string)\":[{\"notice\":\"Thrown when a function is called by an address other than the authorized Rights Manager. This restricts access to functions that are intended to be executed only by the Rights Manager.\"}]},\"events\":{\"AccessGranted(address,address,uint256)\":{\"notice\":\"Emitted when an enforcement process is successfully completed for a given account and holder.\"}},\"kind\":\"user\",\"methods\":{\"description()\":{\"notice\":\"Returns the business/strategy model implemented by the policy.\"},\"enforce(address,(bool,address,address,address,uint256,uint256,uint256,uint256,address[],bytes))\":{\"notice\":\"Executes the agreement between the asset holder and the account based on the policy's rules.\"},\"getAttestation(address)\":{\"notice\":\"Retrieves the attestation associated with a specific account.\"},\"getAttestationProvider()\":{\"notice\":\"Retrieves the address of the attestation provider.\"},\"getHolder(uint256)\":{\"notice\":\"Returns the asset holder registered in the ownership contract.\"},\"initialize(address,bytes)\":{\"notice\":\"Initializes the policy with specific data for a given holder.\"},\"isAccessAllowed(address,uint256)\":{\"notice\":\"Determines if the user has access to specific content based on `assetId`.\"},\"isCompliant(address)\":{\"notice\":\"Verifies whether the on-chain access terms are satisfied for an account.\"},\"isInitialized()\":{\"notice\":\"Checks if the contract has been initialized.\"},\"name()\":{\"notice\":\"Returns the name of the policy.\"},\"resolveTerms(address)\":{\"notice\":\"Retrieves the terms associated with a specific rights holder.\"},\"resolveTerms(uint256)\":{\"notice\":\"Retrieves the terms associated with a specific content ID.\"},\"supportsInterface(bytes4)\":{\"notice\":\"Checks if a given interface ID is supported by this contract.\"}},\"notice\":\"Implements a subscription-based content access policy.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/policies/access/SubscriptionPolicy.sol\":\"SubscriptionPolicy\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":20000},\"remappings\":[\":@ethereum-attestation-service/=node_modules/@ethereum-attestation-service/\",\":@ethsign/=node_modules/@ethsign/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":ds-test/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":hardhat/=node_modules/hardhat/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":solady/=lib/solady/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\"],\"viaIR\":true},\"sources\":{\"contracts/interfaces/IAttestationProvider.sol\":{\"keccak256\":\"0xce1a5fb8fe418a58065e05eaebef05657f364a4a7c7f3c029700e4d8862a6a62\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://83d9b16c1f06530c0f04a787191475c1e15470c51129507e5e7495bff3ce631e\",\"dweb:/ipfs/QmRQVypKQ1CmWoiD3ef5piPngbVi3dxHFS21cV3SagRwCn\"]},\"contracts/interfaces/assets/IAssetOwnership.sol\":{\"keccak256\":\"0x266376c23b74506b9b8d9ed90f1bc310cc7330b8d3e6ca6e6eb4021b3668aa18\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3614788ae9f18a9b472baaf6bb6dc1abe3d78a397f791e30efbe4f1965b3e025\",\"dweb:/ipfs/QmPhLLbi88yH9NxhV18xutazHAYm2HSaEpSoTwR6v5BiDB\"]},\"contracts/interfaces/policies/IPolicy.sol\":{\"keccak256\":\"0x0d23733f2a52ce2b6f5a702c62cc53e379389e2cf9cde67f1d6c79758825bd46\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://97364a35873494f97672665046cdb554218bff622e95642f08e471b91924deca\",\"dweb:/ipfs/QmNSH6Hx7o1SwSbQRgj4qGfYCvcG4eYzrjhU9d2qWBTayF\"]},\"contracts/interfaces/rightsmanager/IRightsPolicyManager.sol\":{\"keccak256\":\"0x50c0f0a76774815d32089f3f2a65e19b5c7181a01776ac01ae201060dc66d83a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://127a83c86e2061bf6a47352fbd5692fdbe930fd7612d0d2ab8da6b144651275d\",\"dweb:/ipfs/QmXzuHrJoRXD4FTqLvPugkJLhemGa6VVJZ3Y6gNSGP5yUH\"]},\"contracts/libraries/LoopOps.sol\":{\"keccak256\":\"0x7e0219ea94f0f4ff1577385dd8407ec4081c54c75b8cb8e82e2ff64904a7c411\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://607a06ba07bb2d337ed23582d6ee902457adc27164fdf1560bd23d0f68cbceb2\",\"dweb:/ipfs/QmZENM1tBNEeMBpjdRUPkprZ2Qmnu2cG1StLMrSQxcuJQL\"]},\"contracts/libraries/Types.sol\":{\"keccak256\":\"0x15d6829e0b988ba6c933d1adff8926b91c5e5f8f0fdabd00d87b8c8c541a3eb8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3c4c1edb78e52731d57d6e0d583d398287e01960f966231839ddc1ff12c48003\",\"dweb:/ipfs/QmYw5hKqdD5FX4cA4Cce6JrT164zNMGipUekUihMc3vP1S\"]},\"contracts/policies/BasePolicy.sol\":{\"keccak256\":\"0x94c7e7c5cb80c0625b09c079d85e37a86c86e1d1af4063eae95f93c2723dbaf8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://440770f5729cc6c8383eca47cf08a60fa0e70d2c2e78f7aca2fc620a698ba30d\",\"dweb:/ipfs/QmNxAQ3xRTrv49abYaARjcuHwzSUjs3YyR2YStsAuRAdZY\"]},\"contracts/policies/access/SubscriptionPolicy.sol\":{\"keccak256\":\"0xc4d6001b338fcecf1f713060e5fb4b2a2f3205baeb4dec6ec07af9158ed09313\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://35b0a38328ea858e9a74095d5338e6663cdac39f055659caa699c953777e0405\",\"dweb:/ipfs/QmNujFZmmvpevUH8QmXgjaHW6y6C4CX1AJPmtG3tG4FTs6\"]},\"node_modules/@openzeppelin/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11\",\"dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq\"]},\"node_modules/@openzeppelin/contracts/token/ERC721/extensions/IERC721Metadata.sol\":{\"keccak256\":\"0x37d1aaaa5a2908a09e9dcf56a26ddf762ecf295afb5964695937344fc6802ce1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ed0bfc1b92153c5000e50f4021367b931bbe96372ac6facec3c4961b72053d02\",\"dweb:/ipfs/Qmbwp8VDerjS5SV1quwHH1oMXxPQ93fzfLVqJ2RCqbowGE\"]},\"node_modules/@openzeppelin/contracts/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a\",\"dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA\"]},\"node_modules/@openzeppelin/contracts/utils/introspection/ERC165.sol\":{\"keccak256\":\"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287\",\"dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p\"]},\"node_modules/@openzeppelin/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"rightPolicyManagerAddress","type":"address"},{"internalType":"address","name":"ownershipAddress","type":"address"},{"internalType":"address","name":"providerAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InvalidAssetHolder"},{"inputs":[],"type":"error","name":"InvalidAttestation"},{"inputs":[{"internalType":"string","name":"reason","type":"string"}],"type":"error","name":"InvalidEnforcement"},{"inputs":[{"internalType":"string","name":"reason","type":"string"}],"type":"error","name":"InvalidInitialization"},{"inputs":[],"type":"error","name":"InvalidNotSupportedOperation"},{"inputs":[],"type":"error","name":"InvalidPolicyInitialization"},{"inputs":[{"internalType":"string","name":"reason","type":"string"}],"type":"error","name":"InvalidUnauthorizedCall"},{"inputs":[],"type":"error","name":"ReentrancyGuardReentrantCall"},{"inputs":[{"internalType":"address","name":"holder","type":"address","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint256","name":"attestationId","type":"uint256","indexed":false}],"type":"event","name":"AccessGranted","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"ASSET_OWNERSHIP","outputs":[{"internalType":"contract IAssetOwnership","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"ATTESTATION_PROVIDER","outputs":[{"internalType":"contract IAttestationProvider","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"RIGHTS_POLICY_MANAGER","outputs":[{"internalType":"contract IRightsPolicyManager","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"attestations","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"pure","type":"function","name":"description","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"address","name":"holder","type":"address"},{"internalType":"struct T.Agreement","name":"agreement","type":"tuple","components":[{"internalType":"bool","name":"active","type":"bool"},{"internalType":"address","name":"broker","type":"address"},{"internalType":"address","name":"currency","type":"address"},{"internalType":"address","name":"initiator","type":"address"},{"internalType":"uint256","name":"createdAt","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"fees","type":"uint256"},{"internalType":"uint256","name":"available","type":"uint256"},{"internalType":"address[]","name":"parties","type":"address[]"},{"internalType":"bytes","name":"payload","type":"bytes"}]}],"stateMutability":"nonpayable","type":"function","name":"enforce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"recipient","type":"address"}],"stateMutability":"view","type":"function","name":"getAttestation","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getAttestationProvider","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"assetId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getHolder","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"holder","type":"address"},{"internalType":"bytes","name":"init","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"isAccessAllowed","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"isCompliant","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"isInitialized","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"pure","type":"function","name":"name","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"address","name":"holder","type":"address"}],"stateMutability":"view","type":"function","name":"resolveTerms","outputs":[{"internalType":"struct T.Terms","name":"","type":"tuple","components":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"currency","type":"address"},{"internalType":"enum T.RateBasis","name":"rateBasis","type":"uint8"},{"internalType":"string","name":"uri","type":"string"}]}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"resolveTerms","outputs":[{"internalType":"struct T.Terms","name":"","type":"tuple","components":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"currency","type":"address"},{"internalType":"enum T.RateBasis","name":"rateBasis","type":"uint8"},{"internalType":"string","name":"uri","type":"string"}]}]},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"stateMutability":"view","type":"function","name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{"enforce(address,(bool,address,address,address,uint256,uint256,uint256,uint256,address[],bytes))":{"details":"Rights Policies Manager contract should be the only one allowed to call this method.","params":{"agreement":"An object containing the terms agreed upon between the asset holder and the user.","holder":"The rights holder whose authorization is required for accessing the asset."}},"getAttestation(address)":{"params":{"recipient":"The address of the account involved in the attestation."}},"getAttestationProvider()":{"returns":{"_0":"The address of the provider associated with the policy."}},"getHolder(uint256)":{"params":{"assetId":"the asset ID to retrieve the holder."}},"initialize(address,bytes)":{"details":"Only the Rights Policies Authorizer contract has permission to call this function.","params":{"holder":"The address of the holder for whom the policy is being initialized.","init":"Initialization data required to configure the policy."}},"isAccessAllowed(address,uint256)":{"details":"By default, this function only checks if the account complies with attestation requirements."},"isCompliant(address)":{"details":"The function checks if the provided account complies with the attestation.","params":{"account":"The address of the user whose access is being verified."}},"resolveTerms(uint256)":{"details":"This function allows for querying policy terms based on the unique content identifier.","returns":{"_0":"A struct containing the terms applicable to the specified content ID."}},"supportsInterface(bytes4)":{"params":{"interfaceId":"The bytes4 identifier of the interface to check for support."},"returns":{"_0":"A boolean indicating whether the interface ID is supported (true) or not (false)."}}},"version":1},"userdoc":{"kind":"user","methods":{"description()":{"notice":"Returns the business/strategy model implemented by the policy."},"enforce(address,(bool,address,address,address,uint256,uint256,uint256,uint256,address[],bytes))":{"notice":"Executes the agreement between the asset holder and the account based on the policy's rules."},"getAttestation(address)":{"notice":"Retrieves the attestation associated with a specific account."},"getAttestationProvider()":{"notice":"Retrieves the address of the attestation provider."},"getHolder(uint256)":{"notice":"Returns the asset holder registered in the ownership contract."},"initialize(address,bytes)":{"notice":"Initializes the policy with specific data for a given holder."},"isAccessAllowed(address,uint256)":{"notice":"Determines if the user has access to specific content based on `assetId`."},"isCompliant(address)":{"notice":"Verifies whether the on-chain access terms are satisfied for an account."},"isInitialized()":{"notice":"Checks if the contract has been initialized."},"name()":{"notice":"Returns the name of the policy."},"resolveTerms(address)":{"notice":"Retrieves the terms associated with a specific rights holder."},"resolveTerms(uint256)":{"notice":"Retrieves the terms associated with a specific content ID."},"supportsInterface(bytes4)":{"notice":"Checks if a given interface ID is supported by this contract."}},"version":1}},"settings":{"remappings":["@ethereum-attestation-service/=node_modules/@ethereum-attestation-service/","@ethsign/=node_modules/@ethsign/","@openzeppelin/=node_modules/@openzeppelin/","ds-test/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/lib/ds-test/src/","forge-std/=lib/forge-std/src/","hardhat/=node_modules/hardhat/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","solady/=lib/solady/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":20000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/policies/access/SubscriptionPolicy.sol":"SubscriptionPolicy"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"contracts/interfaces/IAttestationProvider.sol":{"keccak256":"0xce1a5fb8fe418a58065e05eaebef05657f364a4a7c7f3c029700e4d8862a6a62","urls":["bzz-raw://83d9b16c1f06530c0f04a787191475c1e15470c51129507e5e7495bff3ce631e","dweb:/ipfs/QmRQVypKQ1CmWoiD3ef5piPngbVi3dxHFS21cV3SagRwCn"],"license":"MIT"},"contracts/interfaces/assets/IAssetOwnership.sol":{"keccak256":"0x266376c23b74506b9b8d9ed90f1bc310cc7330b8d3e6ca6e6eb4021b3668aa18","urls":["bzz-raw://3614788ae9f18a9b472baaf6bb6dc1abe3d78a397f791e30efbe4f1965b3e025","dweb:/ipfs/QmPhLLbi88yH9NxhV18xutazHAYm2HSaEpSoTwR6v5BiDB"],"license":"MIT"},"contracts/interfaces/policies/IPolicy.sol":{"keccak256":"0x0d23733f2a52ce2b6f5a702c62cc53e379389e2cf9cde67f1d6c79758825bd46","urls":["bzz-raw://97364a35873494f97672665046cdb554218bff622e95642f08e471b91924deca","dweb:/ipfs/QmNSH6Hx7o1SwSbQRgj4qGfYCvcG4eYzrjhU9d2qWBTayF"],"license":"MIT"},"contracts/interfaces/rightsmanager/IRightsPolicyManager.sol":{"keccak256":"0x50c0f0a76774815d32089f3f2a65e19b5c7181a01776ac01ae201060dc66d83a","urls":["bzz-raw://127a83c86e2061bf6a47352fbd5692fdbe930fd7612d0d2ab8da6b144651275d","dweb:/ipfs/QmXzuHrJoRXD4FTqLvPugkJLhemGa6VVJZ3Y6gNSGP5yUH"],"license":"MIT"},"contracts/libraries/LoopOps.sol":{"keccak256":"0x7e0219ea94f0f4ff1577385dd8407ec4081c54c75b8cb8e82e2ff64904a7c411","urls":["bzz-raw://607a06ba07bb2d337ed23582d6ee902457adc27164fdf1560bd23d0f68cbceb2","dweb:/ipfs/QmZENM1tBNEeMBpjdRUPkprZ2Qmnu2cG1StLMrSQxcuJQL"],"license":"MIT"},"contracts/libraries/Types.sol":{"keccak256":"0x15d6829e0b988ba6c933d1adff8926b91c5e5f8f0fdabd00d87b8c8c541a3eb8","urls":["bzz-raw://3c4c1edb78e52731d57d6e0d583d398287e01960f966231839ddc1ff12c48003","dweb:/ipfs/QmYw5hKqdD5FX4cA4Cce6JrT164zNMGipUekUihMc3vP1S"],"license":"MIT"},"contracts/policies/BasePolicy.sol":{"keccak256":"0x94c7e7c5cb80c0625b09c079d85e37a86c86e1d1af4063eae95f93c2723dbaf8","urls":["bzz-raw://440770f5729cc6c8383eca47cf08a60fa0e70d2c2e78f7aca2fc620a698ba30d","dweb:/ipfs/QmNxAQ3xRTrv49abYaARjcuHwzSUjs3YyR2YStsAuRAdZY"],"license":"MIT"},"contracts/policies/access/SubscriptionPolicy.sol":{"keccak256":"0xc4d6001b338fcecf1f713060e5fb4b2a2f3205baeb4dec6ec07af9158ed09313","urls":["bzz-raw://35b0a38328ea858e9a74095d5338e6663cdac39f055659caa699c953777e0405","dweb:/ipfs/QmNujFZmmvpevUH8QmXgjaHW6y6C4CX1AJPmtG3tG4FTs6"],"license":"MIT"},"node_modules/@openzeppelin/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261","urls":["bzz-raw://6b7f97c5960a50fd1822cb298551ffc908e37b7893a68d6d08bce18a11cb0f11","dweb:/ipfs/QmQQvxBytoY1eBt3pRQDmvH2hZ2yjhs12YqVfzGm7KSURq"],"license":"MIT"},"node_modules/@openzeppelin/contracts/token/ERC721/extensions/IERC721Metadata.sol":{"keccak256":"0x37d1aaaa5a2908a09e9dcf56a26ddf762ecf295afb5964695937344fc6802ce1","urls":["bzz-raw://ed0bfc1b92153c5000e50f4021367b931bbe96372ac6facec3c4961b72053d02","dweb:/ipfs/Qmbwp8VDerjS5SV1quwHH1oMXxPQ93fzfLVqJ2RCqbowGE"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/ReentrancyGuard.sol":{"keccak256":"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3","urls":["bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a","dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/introspection/ERC165.sol":{"keccak256":"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa","urls":["bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287","dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[{"astId":59388,"contract":"contracts/policies/access/SubscriptionPolicy.sol:SubscriptionPolicy","label":"_status","offset":0,"slot":"0","type":"t_uint256"},{"astId":3736,"contract":"contracts/policies/access/SubscriptionPolicy.sol:SubscriptionPolicy","label":"_initialized","offset":0,"slot":"1","type":"t_bool"},{"astId":3741,"contract":"contracts/policies/access/SubscriptionPolicy.sol:SubscriptionPolicy","label":"attestations","offset":0,"slot":"2","type":"t_mapping(t_address,t_uint256)"},{"astId":4338,"contract":"contracts/policies/access/SubscriptionPolicy.sol:SubscriptionPolicy","label":"_packages","offset":0,"slot":"3","type":"t_mapping(t_address,t_struct(Package)4333_storage)"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_bool":{"encoding":"inplace","label":"bool","numberOfBytes":"1"},"t_mapping(t_address,t_struct(Package)4333_storage)":{"encoding":"mapping","key":"t_address","label":"mapping(address => struct SubscriptionPolicy.Package)","numberOfBytes":"32","value":"t_struct(Package)4333_storage"},"t_mapping(t_address,t_uint256)":{"encoding":"mapping","key":"t_address","label":"mapping(address => uint256)","numberOfBytes":"32","value":"t_uint256"},"t_struct(Package)4333_storage":{"encoding":"inplace","label":"struct SubscriptionPolicy.Package","numberOfBytes":"64","members":[{"astId":4330,"contract":"contracts/policies/access/SubscriptionPolicy.sol:SubscriptionPolicy","label":"pricePerDay","offset":0,"slot":"0","type":"t_uint256"},{"astId":4332,"contract":"contracts/policies/access/SubscriptionPolicy.sol:SubscriptionPolicy","label":"currency","offset":0,"slot":"1","type":"t_address"}]},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"ast":{"absolutePath":"contracts/policies/access/SubscriptionPolicy.sol","id":4521,"exportedSymbols":{"BasePolicy":[4107],"SubscriptionPolicy":[4520],"T":[3697]},"nodeType":"SourceUnit","src":"32:3622:52","nodes":[{"id":4320,"nodeType":"PragmaDirective","src":"32:23:52","nodes":[],"literals":["solidity","0.8",".26"]},{"id":4322,"nodeType":"ImportDirective","src":"57:63:52","nodes":[],"absolutePath":"contracts/policies/BasePolicy.sol","file":"contracts/policies/BasePolicy.sol","nameLocation":"-1:-1:-1","scope":4521,"sourceUnit":4108,"symbolAliases":[{"foreign":{"id":4321,"name":"BasePolicy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4107,"src":"66:10:52","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":4324,"nodeType":"ImportDirective","src":"121:50:52","nodes":[],"absolutePath":"contracts/libraries/Types.sol","file":"contracts/libraries/Types.sol","nameLocation":"-1:-1:-1","scope":4521,"sourceUnit":3698,"symbolAliases":[{"foreign":{"id":4323,"name":"T","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3697,"src":"130:1:52","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":4520,"nodeType":"ContractDefinition","src":"270:3383:52","nodes":[{"id":4333,"nodeType":"StructDefinition","src":"375:115:52","nodes":[],"canonicalName":"SubscriptionPolicy.Package","documentation":{"id":4328,"nodeType":"StructuredDocumentation","src":"318:52:52","text":"@dev Structure to define a subscription package."},"members":[{"constant":false,"id":4330,"mutability":"mutable","name":"pricePerDay","nameLocation":"408:11:52","nodeType":"VariableDeclaration","scope":4333,"src":"400:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4329,"name":"uint256","nodeType":"ElementaryTypeName","src":"400:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4332,"mutability":"mutable","name":"currency","nameLocation":"475:8:52","nodeType":"VariableDeclaration","scope":4333,"src":"467:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4331,"name":"address","nodeType":"ElementaryTypeName","src":"467:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"Package","nameLocation":"382:7:52","scope":4520,"visibility":"public"},{"id":4338,"nodeType":"VariableDeclaration","src":"580:45:52","nodes":[],"constant":false,"mutability":"mutable","name":"_packages","nameLocation":"616:9:52","scope":4520,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Package_$4333_storage_$","typeString":"mapping(address => struct SubscriptionPolicy.Package)"},"typeName":{"id":4337,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":4334,"name":"address","nodeType":"ElementaryTypeName","src":"588:7:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"580:27:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Package_$4333_storage_$","typeString":"mapping(address => struct SubscriptionPolicy.Package)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":4336,"nodeType":"UserDefinedTypeName","pathNode":{"id":4335,"name":"Package","nameLocations":["599:7:52"],"nodeType":"IdentifierPath","referencedDeclaration":4333,"src":"599:7:52"},"referencedDeclaration":4333,"src":"599:7:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_storage_ptr","typeString":"struct SubscriptionPolicy.Package"}}},"visibility":"private"},{"id":4353,"nodeType":"FunctionDefinition","src":"632:203:52","nodes":[],"body":{"id":4352,"nodeType":"Block","src":"833:2:52","nodes":[],"statements":[]},"implemented":true,"kind":"constructor","modifiers":[{"arguments":[{"id":4347,"name":"rightPolicyManagerAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4340,"src":"771:25:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":4348,"name":"ownershipAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4342,"src":"798:16:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":4349,"name":"providerAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4344,"src":"816:15:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":4350,"kind":"baseConstructorSpecifier","modifierName":{"id":4346,"name":"BasePolicy","nameLocations":["760:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":4107,"src":"760:10:52"},"nodeType":"ModifierInvocation","src":"760:72:52"}],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":4345,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4340,"mutability":"mutable","name":"rightPolicyManagerAddress","nameLocation":"661:25:52","nodeType":"VariableDeclaration","scope":4353,"src":"653:33:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4339,"name":"address","nodeType":"ElementaryTypeName","src":"653:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4342,"mutability":"mutable","name":"ownershipAddress","nameLocation":"704:16:52","nodeType":"VariableDeclaration","scope":4353,"src":"696:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4341,"name":"address","nodeType":"ElementaryTypeName","src":"696:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4344,"mutability":"mutable","name":"providerAddress","nameLocation":"738:15:52","nodeType":"VariableDeclaration","scope":4353,"src":"730:23:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4343,"name":"address","nodeType":"ElementaryTypeName","src":"730:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"643:116:52"},"returnParameters":{"id":4351,"nodeType":"ParameterList","parameters":[],"src":"833:0:52"},"scope":4520,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":4362,"nodeType":"FunctionDefinition","src":"889:98:52","nodes":[],"body":{"id":4361,"nodeType":"Block","src":"943:44:52","nodes":[],"statements":[{"expression":{"hexValue":"537562736372697074696f6e506f6c696379","id":4359,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"960:20:52","typeDescriptions":{"typeIdentifier":"t_stringliteral_cf969a651e510b963d800a99660818c73f95de791671120782050ada205e0116","typeString":"literal_string \"SubscriptionPolicy\""},"value":"SubscriptionPolicy"},"functionReturnParameters":4358,"id":4360,"nodeType":"Return","src":"953:27:52"}]},"baseFunctions":[2711],"documentation":{"id":4354,"nodeType":"StructuredDocumentation","src":"841:43:52","text":"@notice Returns the name of the policy."},"functionSelector":"06fdde03","implemented":true,"kind":"function","modifiers":[],"name":"name","nameLocation":"898:4:52","parameters":{"id":4355,"nodeType":"ParameterList","parameters":[],"src":"902:2:52"},"returnParameters":{"id":4358,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4357,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4362,"src":"928:13:52","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":4356,"name":"string","nodeType":"ElementaryTypeName","src":"928:6:52","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"927:15:52"},"scope":4520,"stateMutability":"pure","virtual":false,"visibility":"external"},{"id":4371,"nodeType":"FunctionDefinition","src":"1072:458:52","nodes":[],"body":{"id":4370,"nodeType":"Block","src":"1133:397:52","nodes":[],"statements":[{"expression":{"hexValue":"5468697320706f6c69637920666f6c6c6f7773206120737562736372697074696f6e206d6f64656c2077697468206461696c792070726963696e672c20616c6c6f77696e6720757365727320746f20616363657373206120636f6e74656e7420686f6c646572277320636174616c6f6720627920706179696e672061206461696c792066656520666f7220612063686f73656e206475726174696f6e2e0a0a4b65792066656174757265733a0a312920466c657869626c6520737562736372697074696f6e20706572696f6473207365742062792074686520617373657420686f6c6465722e0a322920496e7374616e742061636365737320746f20616c6c20636f6e74656e7420647572696e672074686520737562736372697074696f6e20706572696f642e","id":4368,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1162:361:52","typeDescriptions":{"typeIdentifier":"t_stringliteral_194b266123184e70dc22bea7312509d4d684e05e0185bd5a1d15a300a36c3030","typeString":"literal_string hex\"5468697320706f6c69637920666f6c6c6f7773206120737562736372697074696f6e206d6f64656c2077697468206461696c792070726963696e672c20616c6c6f77696e6720757365727320746f20616363657373206120636f6e74656e7420686f6c646572277320636174616c6f6720627920706179696e672061206461696c792066656520666f7220612063686f73656e206475726174696f6e2e0a0a4b65792066656174757265733a0a312920466c657869626c6520737562736372697074696f6e20706572696f6473207365742062792074686520617373657420686f6c6465722e0a322920496e7374616e742061636365737320746f20616c6c20636f6e74656e7420647572696e672074686520737562736372697074696f6e20706572696f642e\""},"value":"This policy follows a subscription model with daily pricing, allowing users to access a content holder's catalog by paying a daily fee for a chosen duration.\n\nKey features:\n1) Flexible subscription periods set by the asset holder.\n2) Instant access to all content during the subscription period."},"functionReturnParameters":4367,"id":4369,"nodeType":"Return","src":"1143:380:52"}]},"baseFunctions":[2717],"documentation":{"id":4363,"nodeType":"StructuredDocumentation","src":"993:74:52","text":"@notice Returns the business/strategy model implemented by the policy."},"functionSelector":"7284e416","implemented":true,"kind":"function","modifiers":[],"name":"description","nameLocation":"1081:11:52","parameters":{"id":4364,"nodeType":"ParameterList","parameters":[],"src":"1092:2:52"},"returnParameters":{"id":4367,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4366,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4371,"src":"1118:13:52","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":4365,"name":"string","nodeType":"ElementaryTypeName","src":"1118:6:52","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1117:15:52"},"scope":4520,"stateMutability":"pure","virtual":false,"visibility":"external"},{"id":4414,"nodeType":"FunctionDefinition","src":"1536:408:52","nodes":[],"body":{"id":4413,"nodeType":"Block","src":"1635:309:52","nodes":[],"statements":[{"assignments":[4383,4385],"declarations":[{"constant":false,"id":4383,"mutability":"mutable","name":"price","nameLocation":"1654:5:52","nodeType":"VariableDeclaration","scope":4413,"src":"1646:13:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4382,"name":"uint256","nodeType":"ElementaryTypeName","src":"1646:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4385,"mutability":"mutable","name":"currency","nameLocation":"1669:8:52","nodeType":"VariableDeclaration","scope":4413,"src":"1661:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4384,"name":"address","nodeType":"ElementaryTypeName","src":"1661:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":4395,"initialValue":{"arguments":[{"id":4388,"name":"init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4375,"src":"1692:4:52","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"components":[{"id":4390,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1699:7:52","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":4389,"name":"uint256","nodeType":"ElementaryTypeName","src":"1699:7:52","typeDescriptions":{}}},{"id":4392,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1708:7:52","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":4391,"name":"address","nodeType":"ElementaryTypeName","src":"1708:7:52","typeDescriptions":{}}}],"id":4393,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1698:18:52","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_address_$_$","typeString":"tuple(type(uint256),type(address))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_address_$_$","typeString":"tuple(type(uint256),type(address))"}],"expression":{"id":4386,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1681:3:52","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":4387,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1685:6:52","memberName":"decode","nodeType":"MemberAccess","src":"1681:10:52","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":4394,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1681:36:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_address_payable_$","typeString":"tuple(uint256,address payable)"}},"nodeType":"VariableDeclarationStatement","src":"1645:72:52"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4398,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4396,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4383,"src":"1731:5:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":4397,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1740:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1731:10:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":4403,"nodeType":"IfStatement","src":"1727:75:52","trueBody":{"errorCall":{"arguments":[{"hexValue":"496e76616c696420737562736372697074696f6e2070726963652e","id":4400,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1772:29:52","typeDescriptions":{"typeIdentifier":"t_stringliteral_c34de7f84731edc9f4306314e0fbfea34befcd31b45a6958b105a0d671747e17","typeString":"literal_string \"Invalid subscription price.\""},"value":"Invalid subscription price."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c34de7f84731edc9f4306314e0fbfea34befcd31b45a6958b105a0d671747e17","typeString":"literal_string \"Invalid subscription price.\""}],"id":4399,"name":"InvalidInitialization","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3776,"src":"1750:21:52","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$_t_error_$","typeString":"function (string memory) pure returns (error)"}},"id":4401,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1750:52:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":4402,"nodeType":"RevertStatement","src":"1743:59:52"}},{"expression":{"id":4411,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":4404,"name":"_packages","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4338,"src":"1893:9:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Package_$4333_storage_$","typeString":"mapping(address => struct SubscriptionPolicy.Package storage ref)"}},"id":4406,"indexExpression":{"id":4405,"name":"holder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4373,"src":"1903:6:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1893:17:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_storage","typeString":"struct SubscriptionPolicy.Package storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":4408,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4383,"src":"1921:5:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":4409,"name":"currency","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4385,"src":"1928:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":4407,"name":"Package","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4333,"src":"1913:7:52","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Package_$4333_storage_ptr_$","typeString":"type(struct SubscriptionPolicy.Package storage pointer)"}},"id":4410,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1913:24:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_memory_ptr","typeString":"struct SubscriptionPolicy.Package memory"}},"src":"1893:44:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_storage","typeString":"struct SubscriptionPolicy.Package storage ref"}},"id":4412,"nodeType":"ExpressionStatement","src":"1893:44:52"}]},"baseFunctions":[2725],"functionSelector":"d1f57894","implemented":true,"kind":"function","modifiers":[{"id":4378,"kind":"modifierInvocation","modifierName":{"id":4377,"name":"onlyPolicyAuthorizer","nameLocations":["1602:20:52"],"nodeType":"IdentifierPath","referencedDeclaration":3814,"src":"1602:20:52"},"nodeType":"ModifierInvocation","src":"1602:20:52"},{"id":4380,"kind":"modifierInvocation","modifierName":{"id":4379,"name":"initializer","nameLocations":["1623:11:52"],"nodeType":"IdentifierPath","referencedDeclaration":3827,"src":"1623:11:52"},"nodeType":"ModifierInvocation","src":"1623:11:52"}],"name":"initialize","nameLocation":"1545:10:52","parameters":{"id":4376,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4373,"mutability":"mutable","name":"holder","nameLocation":"1564:6:52","nodeType":"VariableDeclaration","scope":4414,"src":"1556:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4372,"name":"address","nodeType":"ElementaryTypeName","src":"1556:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4375,"mutability":"mutable","name":"init","nameLocation":"1587:4:52","nodeType":"VariableDeclaration","scope":4414,"src":"1572:19:52","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":4374,"name":"bytes","nodeType":"ElementaryTypeName","src":"1572:5:52","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1555:37:52"},"returnParameters":{"id":4381,"nodeType":"ParameterList","parameters":[],"src":"1635:0:52"},"scope":4520,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4489,"nodeType":"FunctionDefinition","src":"2180:1125:52","nodes":[],"body":{"id":4488,"nodeType":"Block","src":"2324:981:52","nodes":[],"statements":[{"assignments":[4430],"declarations":[{"constant":false,"id":4430,"mutability":"mutable","name":"pkg","nameLocation":"2349:3:52","nodeType":"VariableDeclaration","scope":4488,"src":"2334:18:52","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_memory_ptr","typeString":"struct SubscriptionPolicy.Package"},"typeName":{"id":4429,"nodeType":"UserDefinedTypeName","pathNode":{"id":4428,"name":"Package","nameLocations":["2334:7:52"],"nodeType":"IdentifierPath","referencedDeclaration":4333,"src":"2334:7:52"},"referencedDeclaration":4333,"src":"2334:7:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_storage_ptr","typeString":"struct SubscriptionPolicy.Package"}},"visibility":"internal"}],"id":4434,"initialValue":{"baseExpression":{"id":4431,"name":"_packages","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4338,"src":"2355:9:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Package_$4333_storage_$","typeString":"mapping(address => struct SubscriptionPolicy.Package storage ref)"}},"id":4433,"indexExpression":{"id":4432,"name":"holder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4416,"src":"2365:6:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2355:17:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_storage","typeString":"struct SubscriptionPolicy.Package storage ref"}},"nodeType":"VariableDeclarationStatement","src":"2334:38:52"},{"assignments":[4436],"declarations":[{"constant":false,"id":4436,"mutability":"mutable","name":"paymentPerAccount","nameLocation":"2465:17:52","nodeType":"VariableDeclaration","scope":4488,"src":"2457:25:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4435,"name":"uint256","nodeType":"ElementaryTypeName","src":"2457:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4443,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4442,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":4437,"name":"agreement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4419,"src":"2485:9:52","typeDescriptions":{"typeIdentifier":"t_struct$_Agreement_$3663_calldata_ptr","typeString":"struct T.Agreement calldata"}},"id":4438,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2495:6:52","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":3653,"src":"2485:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"expression":{"expression":{"id":4439,"name":"agreement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4419,"src":"2504:9:52","typeDescriptions":{"typeIdentifier":"t_struct$_Agreement_$3663_calldata_ptr","typeString":"struct T.Agreement calldata"}},"id":4440,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2514:7:52","memberName":"parties","nodeType":"MemberAccess","referencedDeclaration":3660,"src":"2504:17:52","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[] calldata"}},"id":4441,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2522:6:52","memberName":"length","nodeType":"MemberAccess","src":"2504:24:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2485:43:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2457:71:52"},{"assignments":[4445],"declarations":[{"constant":false,"id":4445,"mutability":"mutable","name":"subscriptionDuration","nameLocation":"2594:20:52","nodeType":"VariableDeclaration","scope":4488,"src":"2586:28:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4444,"name":"uint256","nodeType":"ElementaryTypeName","src":"2586:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4450,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4446,"name":"paymentPerAccount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4436,"src":"2617:17:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"expression":{"id":4447,"name":"pkg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4430,"src":"2637:3:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_memory_ptr","typeString":"struct SubscriptionPolicy.Package memory"}},"id":4448,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2641:11:52","memberName":"pricePerDay","nodeType":"MemberAccess","referencedDeclaration":4330,"src":"2637:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2617:35:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2586:66:52"},{"assignments":[4452],"declarations":[{"constant":false,"id":4452,"mutability":"mutable","name":"total","nameLocation":"2780:5:52","nodeType":"VariableDeclaration","scope":4488,"src":"2772:13:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4451,"name":"uint256","nodeType":"ElementaryTypeName","src":"2772:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4462,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4456,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4453,"name":"subscriptionDuration","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4445,"src":"2789:20:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":4454,"name":"pkg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4430,"src":"2812:3:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_memory_ptr","typeString":"struct SubscriptionPolicy.Package memory"}},"id":4455,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2816:11:52","memberName":"pricePerDay","nodeType":"MemberAccess","referencedDeclaration":4330,"src":"2812:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2789:38:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":4457,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2788:40:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"expression":{"id":4458,"name":"agreement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4419,"src":"2831:9:52","typeDescriptions":{"typeIdentifier":"t_struct$_Agreement_$3663_calldata_ptr","typeString":"struct T.Agreement calldata"}},"id":4459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2841:7:52","memberName":"parties","nodeType":"MemberAccess","referencedDeclaration":3660,"src":"2831:17:52","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[] calldata"}},"id":4460,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2849:6:52","memberName":"length","nodeType":"MemberAccess","src":"2831:24:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2788:67:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2772:83:52"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4466,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":4463,"name":"agreement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4419,"src":"2869:9:52","typeDescriptions":{"typeIdentifier":"t_struct$_Agreement_$3663_calldata_ptr","typeString":"struct T.Agreement calldata"}},"id":4464,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2879:6:52","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":3653,"src":"2869:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":4465,"name":"total","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4452,"src":"2888:5:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2869:24:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":4471,"nodeType":"IfStatement","src":"2865:94:52","trueBody":{"errorCall":{"arguments":[{"hexValue":"496e73756666696369656e742066756e647320666f7220737562736372697074696f6e","id":4468,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2921:37:52","typeDescriptions":{"typeIdentifier":"t_stringliteral_672f704359c96e0312355040ab5c89b621a6d70e08076807a34681fa7dc8d2e7","typeString":"literal_string \"Insufficient funds for subscription\""},"value":"Insufficient funds for subscription"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_672f704359c96e0312355040ab5c89b621a6d70e08076807a34681fa7dc8d2e7","typeString":"literal_string \"Insufficient funds for subscription\""}],"id":4467,"name":"InvalidEnforcement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3768,"src":"2902:18:52","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$_t_error_$","typeString":"function (string memory) pure returns (error)"}},"id":4469,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2902:57:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":4470,"nodeType":"RevertStatement","src":"2895:64:52"}},{"assignments":[4473],"declarations":[{"constant":false,"id":4473,"mutability":"mutable","name":"subExpire","nameLocation":"3044:9:52","nodeType":"VariableDeclaration","scope":4488,"src":"3036:17:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4472,"name":"uint256","nodeType":"ElementaryTypeName","src":"3036:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4481,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4480,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":4474,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3056:5:52","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":4475,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3062:9:52","memberName":"timestamp","nodeType":"MemberAccess","src":"3056:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4478,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4476,"name":"subscriptionDuration","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4445,"src":"3075:20:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"31","id":4477,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3098:6:52","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_86400_by_1","typeString":"int_const 86400"},"value":"1"},"src":"3075:29:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":4479,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3074:31:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3056:49:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3036:69:52"},{"expression":{"arguments":[{"id":4483,"name":"holder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4416,"src":"3269:6:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":4484,"name":"agreement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4419,"src":"3277:9:52","typeDescriptions":{"typeIdentifier":"t_struct$_Agreement_$3663_calldata_ptr","typeString":"struct T.Agreement calldata"}},{"id":4485,"name":"subExpire","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4473,"src":"3288:9:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_struct$_Agreement_$3663_calldata_ptr","typeString":"struct T.Agreement calldata"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":4482,"name":"_commit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4058,"src":"3261:7:52","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_struct$_Agreement_$3663_memory_ptr_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,struct T.Agreement memory,uint256) returns (uint256)"}},"id":4486,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3261:37:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":4427,"id":4487,"nodeType":"Return","src":"3254:44:52"}]},"baseFunctions":[2736],"functionSelector":"c43e04c0","implemented":true,"kind":"function","modifiers":[{"id":4422,"kind":"modifierInvocation","modifierName":{"id":4421,"name":"onlyPolicyManager","nameLocations":["2276:17:52"],"nodeType":"IdentifierPath","referencedDeclaration":3794,"src":"2276:17:52"},"nodeType":"ModifierInvocation","src":"2276:17:52"},{"id":4424,"kind":"modifierInvocation","modifierName":{"id":4423,"name":"initialized","nameLocations":["2294:11:52"],"nodeType":"IdentifierPath","referencedDeclaration":3839,"src":"2294:11:52"},"nodeType":"ModifierInvocation","src":"2294:11:52"}],"name":"enforce","nameLocation":"2189:7:52","parameters":{"id":4420,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4416,"mutability":"mutable","name":"holder","nameLocation":"2214:6:52","nodeType":"VariableDeclaration","scope":4489,"src":"2206:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4415,"name":"address","nodeType":"ElementaryTypeName","src":"2206:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4419,"mutability":"mutable","name":"agreement","nameLocation":"2251:9:52","nodeType":"VariableDeclaration","scope":4489,"src":"2230:30:52","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_Agreement_$3663_calldata_ptr","typeString":"struct T.Agreement"},"typeName":{"id":4418,"nodeType":"UserDefinedTypeName","pathNode":{"id":4417,"name":"T.Agreement","nameLocations":["2230:1:52","2232:9:52"],"nodeType":"IdentifierPath","referencedDeclaration":3663,"src":"2230:11:52"},"referencedDeclaration":3663,"src":"2230:11:52","typeDescriptions":{"typeIdentifier":"t_struct$_Agreement_$3663_storage_ptr","typeString":"struct T.Agreement"}},"visibility":"internal"}],"src":"2196:70:52"},"returnParameters":{"id":4427,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4426,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4489,"src":"2315:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4425,"name":"uint256","nodeType":"ElementaryTypeName","src":"2315:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2314:9:52"},"scope":4520,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4519,"nodeType":"FunctionDefinition","src":"3389:262:52","nodes":[],"body":{"id":4518,"nodeType":"Block","src":"3475:176:52","nodes":[],"statements":[{"assignments":[4501],"declarations":[{"constant":false,"id":4501,"mutability":"mutable","name":"pkg","nameLocation":"3500:3:52","nodeType":"VariableDeclaration","scope":4518,"src":"3485:18:52","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_memory_ptr","typeString":"struct SubscriptionPolicy.Package"},"typeName":{"id":4500,"nodeType":"UserDefinedTypeName","pathNode":{"id":4499,"name":"Package","nameLocations":["3485:7:52"],"nodeType":"IdentifierPath","referencedDeclaration":4333,"src":"3485:7:52"},"referencedDeclaration":4333,"src":"3485:7:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_storage_ptr","typeString":"struct SubscriptionPolicy.Package"}},"visibility":"internal"}],"id":4505,"initialValue":{"baseExpression":{"id":4502,"name":"_packages","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4338,"src":"3506:9:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Package_$4333_storage_$","typeString":"mapping(address => struct SubscriptionPolicy.Package storage ref)"}},"id":4504,"indexExpression":{"id":4503,"name":"holder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4492,"src":"3516:6:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3506:17:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_storage","typeString":"struct SubscriptionPolicy.Package storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3485:38:52"},{"expression":{"arguments":[{"expression":{"id":4508,"name":"pkg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4501,"src":"3584:3:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_memory_ptr","typeString":"struct SubscriptionPolicy.Package memory"}},"id":4509,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3588:11:52","memberName":"pricePerDay","nodeType":"MemberAccess","referencedDeclaration":4330,"src":"3584:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":4510,"name":"pkg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4501,"src":"3601:3:52","typeDescriptions":{"typeIdentifier":"t_struct$_Package_$4333_memory_ptr","typeString":"struct SubscriptionPolicy.Package memory"}},"id":4511,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3605:8:52","memberName":"currency","nodeType":"MemberAccess","referencedDeclaration":4332,"src":"3601:12:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"expression":{"id":4512,"name":"T","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3697,"src":"3615:1:52","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_T_$3697_$","typeString":"type(library T)"}},"id":4513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3617:9:52","memberName":"RateBasis","nodeType":"MemberAccess","referencedDeclaration":3675,"src":"3615:11:52","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RateBasis_$3675_$","typeString":"type(enum T.RateBasis)"}},"id":4514,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3627:5:52","memberName":"DAILY","nodeType":"MemberAccess","referencedDeclaration":3673,"src":"3615:17:52","typeDescriptions":{"typeIdentifier":"t_enum$_RateBasis_$3675","typeString":"enum T.RateBasis"}},{"hexValue":"697066733a2f2f","id":4515,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3634:9:52","typeDescriptions":{"typeIdentifier":"t_stringliteral_66f0790b1cbe0dcac007f07341b00cafe2bda254914729058b5209e04b702afe","typeString":"literal_string \"ipfs://\""},"value":"ipfs://"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_enum$_RateBasis_$3675","typeString":"enum T.RateBasis"},{"typeIdentifier":"t_stringliteral_66f0790b1cbe0dcac007f07341b00cafe2bda254914729058b5209e04b702afe","typeString":"literal_string \"ipfs://\""}],"expression":{"id":4506,"name":"T","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3697,"src":"3576:1:52","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_T_$3697_$","typeString":"type(library T)"}},"id":4507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3578:5:52","memberName":"Terms","nodeType":"MemberAccess","referencedDeclaration":3686,"src":"3576:7:52","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Terms_$3686_storage_ptr_$","typeString":"type(struct T.Terms storage pointer)"}},"id":4516,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3576:68:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Terms_$3686_memory_ptr","typeString":"struct T.Terms memory"}},"functionReturnParameters":4498,"id":4517,"nodeType":"Return","src":"3569:75:52"}]},"baseFunctions":[3917],"documentation":{"id":4490,"nodeType":"StructuredDocumentation","src":"3311:73:52","text":"@notice Retrieves the terms associated with a specific rights holder."},"functionSelector":"3c6a5ee3","implemented":true,"kind":"function","modifiers":[],"name":"resolveTerms","nameLocation":"3398:12:52","overrides":{"id":4494,"nodeType":"OverrideSpecifier","overrides":[],"src":"3441:8:52"},"parameters":{"id":4493,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4492,"mutability":"mutable","name":"holder","nameLocation":"3419:6:52","nodeType":"VariableDeclaration","scope":4519,"src":"3411:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4491,"name":"address","nodeType":"ElementaryTypeName","src":"3411:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3410:16:52"},"returnParameters":{"id":4498,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4497,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4519,"src":"3459:14:52","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Terms_$3686_memory_ptr","typeString":"struct T.Terms"},"typeName":{"id":4496,"nodeType":"UserDefinedTypeName","pathNode":{"id":4495,"name":"T.Terms","nameLocations":["3459:1:52","3461:5:52"],"nodeType":"IdentifierPath","referencedDeclaration":3686,"src":"3459:7:52"},"referencedDeclaration":3686,"src":"3459:7:52","typeDescriptions":{"typeIdentifier":"t_struct$_Terms_$3686_storage_ptr","typeString":"struct T.Terms"}},"visibility":"internal"}],"src":"3458:16:52"},"scope":4520,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":4326,"name":"BasePolicy","nameLocations":["301:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":4107,"src":"301:10:52"},"id":4327,"nodeType":"InheritanceSpecifier","src":"301:10:52"}],"canonicalName":"SubscriptionPolicy","contractDependencies":[],"contractKind":"contract","documentation":{"id":4325,"nodeType":"StructuredDocumentation","src":"173:97:52","text":"@title SubscriptionPolicy\n @notice Implements a subscription-based content access policy."},"fullyImplemented":true,"linearizedBaseContracts":[4520,4107,61087,61294,2779,59446],"name":"SubscriptionPolicy","nameLocation":"279:18:52","scope":4521,"usedErrors":[3753,3755,3760,3763,3768,3771,3776,59391],"usedEvents":[3750]}],"license":"MIT"},"id":52}